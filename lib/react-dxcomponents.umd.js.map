<<<<<<< Updated upstream
{"version":3,"file":"react-dxcomponents.umd.js","sources":["../src/javascript/i18n/getI18n.js","../src/javascript/reduxStore.js","../src/javascript/theme/theme.js","../src/javascript/theme/ThemeTester.jsx","../src/javascript/router/createOutletHistory.js","../src/javascript/router/OutletRouter.jsx","../src/javascript/notification/NotificationProvider.jsx","../src/javascript/context/DxContextProvider.jsx","../src/javascript/context/withDxContext.jsx","../src/javascript/i18n/LanguageSwitcher.jsx","../src/javascript/layout/SettingsLayout.jsx","../src/javascript/layout/SearchBar.jsx","../src/javascript/helpers/withNodeFromPath.jsx","../src/javascript/helpers/withNodesFromPath.jsx","../src/javascript/helpers/withPathFromSelection.jsx","../src/javascript/notification/withNotifications.jsx","../src/javascript/picker/PickerViewMaterial.jsx","../src/javascript/picker/PickerViewMaterialMultiple.jsx","../src/javascript/picker/Picker.jsx"],"sourcesContent":["import i18n from 'i18next';\r\nimport XHR from 'i18next-xhr-backend';\r\nimport ChainedBackend from 'i18next-chained-backend';\r\n\r\nimport * as _ from 'lodash';\r\n\r\nfunction getI18n(options) {\r\n\r\n    let backends = [ XHR ];\r\n    let backendOptions = [ {\r\n        loadPath: (options.contextPath ? options.contextPath : '') + '/modules/{{ns}}/javascript/locales/{{lng}}.json'\r\n    }];\r\n\r\n    if (options['getData']) {\r\n        let getData = options['getData'];\r\n        backends.splice(0,0,XHR);\r\n        backendOptions.splice(0,0,\r\n            {\r\n                loadPath: \"{{ns}}/{{lng}}\",\r\n                ajax:(url, options, callback, data) => {\r\n                    let [ns,lang] = url.split('/');\r\n                    let value = getData(ns,lang);\r\n                    if (value) {\r\n                        callback(JSON.stringify(value), {status: 200});\r\n                    } else {\r\n                        callback(null, {status:400});\r\n                    }\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    let defaults = {\r\n        fallbackLng: 'en',\r\n        debug: true,\r\n\r\n        interpolation: {\r\n            escapeValue: false, // not needed for react!!\r\n        },\r\n\r\n        // react i18next special options (optional)\r\n        react: {\r\n            wait: true,\r\n            bindI18n: 'languageChanged loaded',\r\n            bindStore: 'added removed',\r\n            nsMode: 'default'\r\n        },\r\n\r\n\r\n        backend: {\r\n            backends: backends,\r\n            backendOptions: backendOptions\r\n        }\r\n    };\r\n\r\n    options = _.merge(defaults, options);\r\n\r\n    i18n\r\n        .use(ChainedBackend)\r\n        .init(options);\r\n    return i18n;\r\n}\r\n\r\n\r\nexport { getI18n };","import {createStore} from 'redux'\r\nimport * as _ from \"lodash\";\r\n\r\nconst reducers = {};\r\n\r\nconst store = function () {\r\n    let debugTool;\r\n    if (typeof window !== 'undefined') {\r\n        debugTool = window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__({\r\n            name: \"DX Redux\",\r\n            instanceId: \"dx\"\r\n        });\r\n    }\r\n\r\n    return createStore((state = {}, action) => _.mapValues(reducers, (value, key) => value(state[key], action)), debugTool);\r\n}();\r\n\r\nconst resetStateReducer = function(state, action) {\r\n    if (action.type === 'RESET_STATE') {\r\n        return undefined;\r\n    }\r\n    return state;\r\n};\r\n\r\nexport {reducers, store, resetStateReducer};\r\n","import {createMuiTheme} from 'material-ui';\r\nimport {blueGrey, deepOrange, green, grey, lightBlue, purple, red} from 'material-ui/colors/index'\r\n\r\n// All the following keys are optional.\r\n// We try our best to provide a great default value.\r\nlet theme = createMuiTheme({\r\n\tpalette: {\r\n        background: {\r\n            global: grey[200],\r\n        },\r\n        contrastThreshold: 2.5,\r\n        tonalOffset: 0.2,\r\n        primary: {\r\n            main: blueGrey[600],\r\n        },\r\n        secondary: {\r\n            main: lightBlue[600],\r\n        },\r\n        error: {\r\n            main: red[400],\r\n        },\r\n        publish: {\r\n            main: deepOrange[500],\r\n        },\r\n        enabled: {\r\n            main: green[400],\r\n        },\r\n        delete: {\r\n            main: red[600],\r\n        }\r\n    },\r\n    overrides: {\r\n        MuiButton: {\r\n            root: {\r\n                color: \"inherit\",\r\n            }\r\n        },\r\n\t\tMuiTableRow: {\r\n\t\t\troot: {}\r\n\t\t},\r\n        MuiTableCell: {\r\n            body: {\r\n                color: \"inherit\",\r\n            }\r\n        },\r\n        MuiIconButton: {\r\n            root: {\r\n                color: \"inherit\",\r\n\t\t\t\twidth: '38px'\r\n            }\r\n        },\r\n\t\tMuiInput: {\r\n\t\t\troot: {\r\n\t\t\t\t'&:before': {\r\n\t\t\t\t\tdisplay: 'none'\r\n\t\t\t\t},\r\n\t\t\t\t'&:after': {\r\n\t\t\t\t\tdisplay: 'none'\r\n\t\t\t\t},\r\n\t\t\t\tboxShadow: '2px 2px 3px 1px rgba(38,38,38,0.3)',\r\n\t\t\t\tbackground: 'white',\r\n\t\t\t\tpadding: '2px 11px 0',\r\n\t\t\t\tboxSizing: 'border-box'\r\n\t\t\t},\r\n\t\t\tinput: {\r\n\t\t\t\tcolor: '#00a0e3',\r\n\t\t\t\tfontSize: '0.875rem'\r\n\t\t\t}\r\n\t\t},\r\n\t\tMuiTypography: {\r\n\t\t\troot: {\r\n\t\t\t},\r\n\t\t\tsubheading: {\r\n\t\t\t\tfontSize: '1.2rem'\r\n\t\t\t},\r\n\t\t\tcaption: {\r\n\t\t\t\tfontWeight: '800',\r\n\t\t\t\ttextTransform: 'uppercase'\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n});\r\n\r\nlet darkTheme = createMuiTheme({\r\n    palette: {\r\n        type: \"dark\",\r\n        background: {\r\n            global: grey[900]\r\n        },\r\n        contrastThreshold: 3.0,\r\n        tonalOffset: 0.2,\r\n        primary: {\r\n            main: purple[500]\r\n        },\r\n        secondary: {\r\n            main: green[400]\r\n        },\r\n        error: {\r\n            main: red[200]\r\n        },\r\n        publish: {\r\n            main: deepOrange[500],\r\n        },\r\n        enabled: {\r\n            main: green[400],\r\n        },\r\n        delete: {\r\n            main: red[600],\r\n        }\r\n    },\r\n    overrides: {\r\n        MuiButton: {\r\n            root: {\r\n                color: \"inherit\",\r\n            }\r\n        },\r\n        MuiTableCell: {\r\n            body: {\r\n                color: \"inherit\",\r\n            }\r\n        },\r\n        MuiIconButton: {\r\n            root: {\r\n                color: \"inherit\",\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\n\r\nexport {theme, darkTheme}\r\n","import React from 'react';\r\nimport {withDxContext} from \"../context\";\r\nimport {Switch} from 'material-ui'\r\nimport {theme, darkTheme} from \"./theme\";\r\n\r\nclass ThemeTester extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.switch = this.switch.bind(this);\r\n\r\n        this.themes = [theme, darkTheme];\r\n        this.state = {\r\n            checked:false\r\n        };\r\n    }\r\n\r\n    switch() {\r\n        this.setState((previous) => {\r\n            this.props.dxContext.setTheme(previous.checked ? theme : darkTheme);\r\n            return {\r\n                checked: !previous.checked\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n        return <Switch color=\"default\" onChange={this.switch} checked={this.state.checked}/>\r\n    }\r\n\r\n}\r\n\r\n\r\nThemeTester = withDxContext()(ThemeTester);\r\n\r\nexport {ThemeTester}","import * as _ from \"lodash\";\r\n\r\nfunction createOutletHistory(baseHistory, outletName) {\r\n\r\n    const getPath = (path) => {\r\n        let parts = [];\r\n        let base = baseHistory.location.pathname;\r\n        let newPath = outletName + ':' + path;\r\n        if (base.indexOf('(') > -1) {\r\n            base = base.substr(base.indexOf('(')+1);\r\n            base = base.substr(0,base.indexOf(')'));\r\n            parts = base.split('//')\r\n            parts = _.map(parts, (p)=> (p.startsWith(outletName + ':') ? newPath : p));\r\n        }\r\n        if (parts.indexOf(newPath) === -1) {\r\n            parts.push(newPath);\r\n        }\r\n        return '/('+ _.join(parts,'//') + ')';\r\n    };\r\n\r\n    const getState = function (state) {\r\n        let newState;\r\n        if (state) {\r\n            newState = baseHistory.location.state ? baseHistory.location.state : {};\r\n            newState['router_' + outletName] = state;\r\n        } else if (baseHistory.location.state) {\r\n            newState = baseHistory.location.state;\r\n            delete newState['router_' + outletName]\r\n        }\r\n        return newState;\r\n    };\r\n\r\n    const extractPath = function(base) {\r\n        if (base.indexOf('(') > -1) {\r\n            base = base.substr(base.indexOf('(') + 1);\r\n            base = base.substr(0, base.indexOf(')'));\r\n            let parts = base.split('//')\r\n            let s = outletName + ':';\r\n            let part = _.find(parts, (p)=> (p.startsWith(s)));\r\n            if (part) {\r\n                return part.substr(s.length)\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n\r\n    let initialLocation = _.clone(baseHistory.location);\r\n    initialLocation.pathname = extractPath(initialLocation.pathname);\r\n\r\n    let listeners = [];\r\n\r\n    const history = {\r\n        length: baseHistory.length,\r\n        action: baseHistory.action,\r\n        location: initialLocation,\r\n        createHref: (location) => {\r\n            return baseHistory.createHref({pathname:getPath(location.pathname)});\r\n        },\r\n        push: (path, state) => {\r\n            return baseHistory.push(getPath(path),getState(state));\r\n        },\r\n        replace: (path, state) => {\r\n            baseHistory.replace(getPath(path),getState(state));\r\n        },\r\n        go: (n) => {\r\n            baseHistory.go(n)\r\n        },\r\n        goBack: () => {\r\n            baseHistory.goBack()\r\n        },\r\n        goForward: () => {\r\n            baseHistory.goForward()\r\n        },\r\n        block:(prompt) => {\r\n            return baseHistory.block(prompt)\r\n        },\r\n        listen: (listener) => {\r\n            listeners.push(listener);\r\n            return () => {\r\n                _.pull(listeners, listener);\r\n            }\r\n        },\r\n        dispose: () => {\r\n            unlisten();\r\n        }\r\n    };\r\n\r\n    const unlisten = baseHistory.listen( (event) => {\r\n        let path = extractPath(event.pathname);\r\n        let state;\r\n        if (event.state && event.state['router_' + outletName]) {\r\n            state = event.state['router_' + outletName];\r\n        }\r\n        if (history.location.pathname !== path || history.location.state !== state) {\r\n            Object.assign(history.location, event);\r\n            history.location.pathname = path;\r\n            history.location.state = state;\r\n            _.each(listeners, (listener) => listener.call(this,history.location))\r\n        }\r\n    });\r\n\r\n    // unlisten when not used anymore !\r\n\r\n    return history\r\n}\r\n\r\nexport { createOutletHistory }","import React from 'react';\r\n\r\nimport {createHashHistory} from \"history\";\r\nimport {createOutletHistory} from \"./createOutletHistory\"\r\nimport {Router} from 'react-router'\r\n\r\nclass OutletRouter extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        let baseHistory = createHashHistory();\r\n        this.outletHistory = createOutletHistory(baseHistory, props.outlet);\r\n    }\r\n\r\n    componentWillMount() {\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.outletHistory.dispose();\r\n    }\r\n\r\n    render() {\r\n        return (<Router history={this.outletHistory}>{this.props.children}</Router>)\r\n    }\r\n}\r\n\r\nexport { OutletRouter };","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Component } from \"react\";\r\nimport {Snackbar} from \"material-ui\";\r\n\r\nclass NotificationProvider extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let {notificationContext} = this.props;\r\n\r\n        this.state = {\r\n            notification: {\r\n                message: \"\",\r\n                open: false\r\n            }\r\n        };\r\n\r\n        notificationContext.notify = (message) => {\r\n            this.setState({\r\n                notification: {\r\n                    message: message,\r\n                    open:true\r\n                }\r\n            });\r\n        };\r\n\r\n        notificationContext.closeNotification = () => {\r\n            this.setState({\r\n                notification: {\r\n                    message: '',\r\n                    open: false\r\n                }\r\n            });\r\n        };\r\n    }\r\n\r\n    getChildContext() {\r\n        return {\r\n            notificationContext: this.props.notificationContext\r\n        };\r\n    }\r\n\r\n    render() {\r\n        // TODO make it configurable\r\n        return <div>\r\n            {this.props.children}\r\n\r\n            <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left',\r\n                }}\r\n                autoHideDuration={5000}\r\n                onClose={this.props.notificationContext.closeNotification}\r\n                open={this.state.notification.open}\r\n                SnackbarContentProps={{\r\n                    'aria-describedby': 'message-id',\r\n                }}\r\n                message={<span id=\"message-id\">{this.state.notification.message}</span>}\r\n            />\r\n        </div>;\r\n    }\r\n}\r\n\r\nNotificationProvider.propTypes = {\r\n    notificationContext: PropTypes.object.isRequired\r\n};\r\n\r\nNotificationProvider.childContextTypes = {\r\n    notificationContext: PropTypes.object.isRequired\r\n};\r\n\r\nexport {NotificationProvider}","import React from 'react';\r\nimport {MuiThemeProvider} from 'material-ui';\r\nimport {createGenerateClassName} from 'material-ui/styles/index';\r\nimport {getI18n} from \"../i18n/getI18n\";\r\nimport {store} from '../reduxStore';\r\nimport {theme} from '../theme'\r\nimport {client} from '@jahia/apollo-dx';\r\nimport {ApolloProvider} from 'react-apollo';\r\nimport {Provider} from 'react-redux'\r\nimport {I18nextProvider} from 'react-i18next'\r\nimport {HashRouter} from 'react-router-dom'\r\nimport {OutletRouter} from '../router'\r\nimport PropTypes from 'prop-types';\r\nimport {JssProvider, SheetsRegistry} from 'react-jss';\r\nimport {NotificationProvider} from \"../notification/NotificationProvider\";\r\n\r\nclass DxContextProvider extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let {dxContext, children, i18n, apollo, redux, mui, router, apolloClient} = this.props;\r\n        let state = {};\r\n        if (mui) {\r\n            if (typeof mui === 'object') {\r\n                state.currentTheme = mui;\r\n            } else {\r\n                state.currentTheme = theme;\r\n            }\r\n            dxContext.setTheme = (theme) => {\r\n                // theTheme = _.merge({}, theme, this.state.theme);\r\n                this.setState({\r\n                    currentTheme: theme\r\n                });\r\n            };\r\n        }\r\n\r\n        if (dxContext.apolloClient) {\r\n            state.apolloClient = dxContext.apolloClient;\r\n        } else if (apolloClient) {\r\n            state.apolloClient = apolloClient;\r\n        } else if (apollo) {\r\n            let options = {contextPath:dxContext.contextPath};\r\n            if (typeof apollo === 'object') {\r\n                Object.assign(options, apollo)\r\n            }\r\n            state.apolloClient = client(options);\r\n        }\r\n\r\n        this.state = state;\r\n    }\r\n\r\n    getChildContext() {\r\n        return {dxContext: this.props.dxContext};\r\n    }\r\n\r\n    render() {\r\n        let {dxContext, children, i18n, apollo, redux, mui, router} = this.props;\r\n        let {currentTheme, apolloClient} = this.state;\r\n\r\n        let Component = React.Children.only(children);\r\n        if (i18n) {\r\n            let options = {lng:dxContext.uilang, contextPath:dxContext.contextPath};\r\n            if (typeof i18n === 'object') {\r\n                Object.assign(options, i18n)\r\n            }\r\n            Component = React.createElement(I18nextProvider, {i18n:getI18n(options)}, Component);\r\n        }\r\n        if (router) {\r\n            let router = HashRouter;\r\n            let options = {};\r\n            if (typeof router === 'object') {\r\n                if (router.type === 'outlet') {\r\n                    router = OutletRouter;\r\n                    options.outlet = router.outlet;\r\n                }\r\n            }\r\n            Component = React.createElement(HashRouter, options, Component);\r\n        }\r\n        if (apolloClient) {\r\n            Component = React.createElement(ApolloProvider, {client:apolloClient}, Component);\r\n        }\r\n        if (redux) {\r\n            Component = React.createElement(Provider, {store:store}, Component);\r\n        }\r\n\r\n        if (currentTheme) {\r\n            let generateClassName = dxContext.generateClassName ? dxContext.generateClassName : createGenerateClassName();\r\n            let sheetsRegistry = dxContext.sheetRegistry ? dxContext.sheetRegistry : new SheetsRegistry();\r\n\r\n            Component = React.createElement(JssProvider, {registry: sheetsRegistry,  generateClassName:generateClassName},\r\n                React.createElement(MuiThemeProvider, {theme: currentTheme, sheetsManager:new Map()},\r\n                    React.createElement(NotificationProvider, {notificationContext:{}}, Component)));\r\n        }\r\n\r\n        return Component;\r\n    }\r\n}\r\n\r\nDxContextProvider.childContextTypes = {\r\n    dxContext: PropTypes.object\r\n};\r\n\r\nexport {DxContextProvider}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction withDxContext() {\r\n    return (WrappedComponent) => {\r\n        let Component = class extends React.Component {\r\n            render() {\r\n                return (<WrappedComponent dxContext={this.context.dxContext} {...this.props} />)\r\n            }\r\n        }\r\n\r\n        Component.contextTypes = {\r\n            dxContext: PropTypes.object\r\n        };\r\n\r\n        return Component\r\n    }\r\n}\r\n\r\nexport { withDxContext }","import React from 'react';\r\nimport {Button, Menu, MenuItem} from 'material-ui';\r\nimport {translate} from 'react-i18next';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass LanguageSwitcher extends React.Component {\r\n\r\n    constructor(props,context) {\r\n        super(props,context);\r\n        this.state = {\r\n            anchorEl: null,\r\n        };\r\n    }\r\n\r\n    handleClick(event) {\r\n        this.setState({anchorEl: event.target});\r\n    }\r\n\r\n    handleClose(lang) {\r\n        this.setState({anchorEl: null});\r\n        if (lang) {\r\n            this.context.i18n.changeLanguage(lang);\r\n        }\r\n    };\r\n\r\n    render() {\r\n        let availableLocales = ['fr', 'en'];\r\n\r\n        return (<div>\r\n            <Button onClick={this.handleClick.bind(this)}\r\n            >{this.props.t('label.languages')}</Button>\r\n            <Menu open={Boolean(this.state.anchorEl)} onClose={this.handleClose.bind(this, null)}\r\n                  anchorEl={this.state.anchorEl}>\r\n                {availableLocales.map((locale) => (\r\n                    <MenuItem onClick={this.handleClose.bind(this, locale)} key={locale}\r\n                              value={locale}>{locale}</MenuItem>))}\r\n            </Menu>\r\n        </div>);\r\n    }\r\n}\r\n\r\nLanguageSwitcher.contextTypes = {\r\n    i18n: PropTypes.object\r\n};\r\n\r\nLanguageSwitcher = translate('react-dxcomponents')(LanguageSwitcher);\r\n\r\n\r\nexport {LanguageSwitcher}\r\n","import React from 'react';\r\nimport {AppBar, Toolbar, Typography, withStyles} from 'material-ui';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        backgroundColor: theme.palette.background.global\r\n    },\r\n    main: {\r\n        minHeight: 'calc(100% - 96px)',\r\n        marginTop: 64,\r\n        padding: 1\r\n    },\r\n    footer: {\r\n        fontSize: '14px',\r\n        fontFamily: theme.typography.fontFamily,\r\n        fontWeight: 300,\r\n        padding: \"8px\",\r\n        textAlign: \"center\",\r\n        color: theme.palette.text.secondary\r\n    },\r\n    appBar: {\r\n        transition: \"all 200ms ease-in-out\"\r\n    }\r\n});\r\n\r\n\r\nclass SettingsLayout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        let { classes, appBar, children, footer, appBarStyle } = this.props;\r\n        return (\r\n            <section className={classes.root} >\r\n                <AppBar position=\"fixed\" classes={{root:classes.appBar}} style={appBarStyle}>\r\n                    {appBar}\r\n                </AppBar>\r\n                <section className={classes.main}>\r\n                    {children}\r\n                </section>\r\n                <footer className={classes.footer}>\r\n                    {footer}\r\n                </footer>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nSettingsLayout.propTypes = {\r\n    appBar: PropTypes.element,\r\n    footer: PropTypes.string\r\n};\r\n\r\nSettingsLayout = withStyles(styles)(SettingsLayout);\r\n\r\nexport {SettingsLayout};\r\n","import React from 'react';\r\nimport {Input, InputAdornment, withStyles, Icon, IconButton} from 'material-ui';\r\nimport {Search, Close} from 'material-ui-icons';\r\nimport {translate} from 'react-i18next';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        margin: '0',\r\n        color : 'inherit',\r\n        backgroundColor : theme.palette.primary.light,\r\n        width: '720px',\r\n        height: '44px',\r\n        lineHeight: '40px',\r\n        borderRadius: '3px',\r\n        fontWeight: '200'\r\n    },\r\n    rootFocus: {\r\n        margin: '0',\r\n        color: theme.palette.text.secondary,\r\n        backgroundColor : '#fff',\r\n        width: '720px',\r\n        height: '44px',\r\n        lineHeight: '40px',\r\n        borderRadius: '3px',\r\n        fontWeight: '100',\r\n        boxShadow: \"0 1px 8px 0 rgba(0, 0, 0, 0.4)\",\r\n        // '& $input': {\r\n        //     width: '300px'\r\n        // }\r\n    },\r\n    input: {\r\n        transitionProperty: 'width',\r\n        transitionDuration: '300ms',\r\n        transitionTimingFunction: 'cubic-bezier(0.4, 0, 0.2, 1)',\r\n        transitionDelay: '0ms',\r\n\r\n    },\r\n    searchIcon: {\r\n        'marginTop': 'auto',\r\n        'marginBottom': 'auto',\r\n        'paddingLeft': '14px',\r\n        'opacity': '0.87'\r\n    },\r\n    hidden: {\r\n        opacity: 0,\r\n        marginTop: 'auto',\r\n        marginBottom: 'auto'\r\n    },\r\n    closeIcon: {\r\n        marginTop: 'auto',\r\n        marginBottom: 'auto',\r\n        opacity: 0.87\r\n    }\r\n});\r\n\r\nclass SearchBar extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.onFocus = this.onFocus.bind(this);\r\n        this.onBlur = this.onBlur.bind(this);\r\n        this.onClear = this.onClear.bind(this);\r\n        this.state = {\r\n            focus: false\r\n        }\r\n    }\r\n\r\n    handleChange(event) {\r\n        // Let the handler deal with the change only when the user has paused changing the filter text for a second.\r\n        event.persist();\r\n        if (this.timeout) {\r\n            clearTimeout(this.timeout);\r\n        }\r\n        this.timeout = setTimeout(function() {\r\n            this.props.onChangeFilter(event.target.value)\r\n        }.bind(this), 1000);\r\n    }\r\n\r\n    onClear() {\r\n        this.inputSearchBar.value = '';\r\n        this.props.onChangeFilter('');\r\n    }\r\n\r\n    onFocus() {\r\n        this.setState({\r\n            focus: true\r\n        });\r\n        this.props.onFocus();\r\n    }\r\n\r\n    onBlur() {\r\n        this.setState({\r\n            focus: false\r\n        });\r\n        this.props.onBlur();\r\n    }\r\n\r\n    render() {\r\n\r\n        const { classes,t, placeholderLabel } = this.props;\r\n\r\n        return (\r\n            <Input classes={{root: (this.state.focus ? classes.rootFocus : classes.root), input: classes.input}}\r\n                   onChange={this.handleChange}\r\n                   onBlur={this.onBlur}\r\n                   onFocus={this.onFocus}\r\n                   disableUnderline={true}\r\n                   type=\"text\"\r\n                   inputRef={(input) => {this.inputSearchBar = input;}}\r\n                   placeholder={placeholderLabel || t('label.searchPlaceholder')}\r\n                   startAdornment={<InputAdornment classes={{root: classes.searchIcon}} position=\"start\"><Search/></InputAdornment>}\r\n                   endAdornment={<InputAdornment position=\"end\" classes={{root: (this.state.focus ? classes.closeIcon : classes.hidden)}}>\r\n                       <IconButton onClick={this.onClear}>\r\n                           <Icon><Close/></Icon>\r\n                       </IconButton>\r\n                   </InputAdornment>}\r\n                   style={this.props.style}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nSearchBar = withStyles(styles)(translate('react-dxcomponents')(SearchBar));\r\n\r\nexport {SearchBar};","import React from 'react';\r\nimport {graphql} from 'react-apollo';\r\nimport gql from \"graphql-tag\";\r\nimport * as _ from \"lodash\";\r\nimport {replaceFragmentsInDocument} from \"@jahia/apollo-dx\";\r\n\r\nfunction withNodeFromPath(fragments) {\r\n    return (ViewComponent) => {\r\n        // GraphQL maps\r\n        let mapResultsToProps = ({data, ownProps}) => {\r\n            let node;\r\n\r\n            if (data.jcr && data.jcr.node) {\r\n                node = data.jcr.node;\r\n            }\r\n\r\n            return {\r\n                ...ownProps,\r\n                node: node,\r\n            };\r\n        };\r\n\r\n        let mapPropsToOptions = (props) => {\r\n            let vars = {\r\n                path: props.path,\r\n                workspace: props.workspace ? props.workspace : 'EDIT'\r\n            };\r\n            if (props.queryVariables) {\r\n                _.assign(vars, props.queryVariables);\r\n            }\r\n\r\n            return {\r\n                variables: vars,\r\n                skip: !props.path\r\n            }\r\n        };\r\n\r\n        let query = gql`\r\n            query NodeQuery($path:String!, $workspace:Workspace!) {\r\n                jcr(workspace:$workspace) {\r\n                    workspace\r\n                    node:nodeByPath(path: $path) {\r\n                        workspace\r\n                        path\r\n                        uuid\r\n                        ... node\r\n                    }\r\n                }\r\n            }`;\r\n\r\n        replaceFragmentsInDocument(query, fragments);\r\n\r\n        return graphql(query, {\r\n            props: mapResultsToProps,\r\n            options: mapPropsToOptions\r\n        })(ViewComponent);\r\n    }\r\n}\r\n\r\nexport {withNodeFromPath};\r\n","import React from 'react';\r\nimport {graphql} from 'react-apollo';\r\nimport gql from \"graphql-tag\";\r\nimport * as _ from \"lodash\";\r\nimport {replaceFragmentsInDocument} from \"@jahia/apollo-dx\";\r\n\r\nfunction withNodesFromPath(fragments) {\r\n    return (ViewComponent) => {\r\n        // GraphQL maps\r\n        let mapResultsToProps = ({data, ownProps}) => {\r\n            let nodes = [];\r\n\r\n            let jcr = data.jcr;\r\n\r\n            if (jcr) {\r\n                if (jcr.node) {\r\n                    nodes = jcr.node.children.nodes;\r\n                }\r\n            }\r\n\r\n            return {\r\n                ...ownProps,\r\n                nodes: nodes,\r\n            };\r\n        };\r\n\r\n        let mapPropsToOptions = (props) => {\r\n            let vars = {\r\n                path: props.path,\r\n                types: props.types,\r\n            };\r\n            if (props.queryVariables) {\r\n                _.assign(vars, props.queryVariables);\r\n            }\r\n\r\n            return {\r\n                variables: vars,\r\n                skip: !props.path\r\n            }\r\n        };\r\n\r\n        let query = gql`\r\n            query NodesQuery($path:String!, $types:[String]!) {\r\n                jcr {\r\n                    node:nodeByPath(path: $path) {\r\n                        path\r\n                        uuid\r\n                        name\r\n                        children(typesFilter:{types:$types}) {\r\n                            nodes {\r\n                                path\r\n                                uuid\r\n                                name\r\n                                ... node\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }`;\r\n\r\n        replaceFragmentsInDocument(query, fragments);\r\n\r\n        return graphql(query, {\r\n            props: mapResultsToProps,\r\n            options: mapPropsToOptions\r\n        })(ViewComponent);\r\n    }\r\n}\r\n\r\nexport {withNodesFromPath};\r\n","import React from 'react';\r\nimport {replaceFragmentsInDocument} from \"@jahia/apollo-dx\";\r\nimport {connect} from 'react-redux'\r\n\r\nfunction withPathFromSelection(reduxStoreId) {\r\n    return (WrappedComponent) => {\r\n        return connect(\r\n            (state, ownProps) => ({\r\n                ...ownProps,\r\n                path: (state[\"selectedPaths_\" + reduxStoreId] && state[\"selectedPaths_\" + reduxStoreId].length === 1) ? state[\"selectedPaths_\" + reduxStoreId][0] : null,\r\n            }),\r\n            () => ({}))(WrappedComponent);\r\n    }\r\n}\r\n\r\nexport { withPathFromSelection }","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction withNotifications() {\r\n    return (WrappedComponent) => {\r\n        let Component = class extends React.Component {\r\n            render() {\r\n                return (<WrappedComponent notificationContext={this.context.notificationContext} {...this.props} />)\r\n            }\r\n        };\r\n\r\n        Component.contextTypes = {\r\n            notificationContext: PropTypes.object\r\n        };\r\n\r\n        return Component\r\n    }\r\n}\r\n\r\nexport { withNotifications }","import React from 'react';\r\nimport {\r\n    IconButton,\r\n    List,\r\n    ListItem,\r\n    ListItemIcon,\r\n    ListItemSecondaryAction,\r\n    ListItemText,\r\n    SvgIcon,\r\n    withStyles,\r\n    withTheme\r\n} from 'material-ui';\r\nimport {ExpandLess, ExpandMore} from 'material-ui-icons'\r\nimport PropTypes from 'prop-types';\r\nimport {fade} from 'material-ui/styles/colorManipulator'\r\n\r\n\r\nlet styles = (theme) => ({\r\n    root: {\r\n        position:\"relative\"\r\n    },\r\n    loading: {\r\n        opacity:0.8\r\n    },\r\n    padding: {\r\n        paddingTop:0,\r\n        paddingBottom:0\r\n    },\r\n    selected: {\r\n        backgroundColor: theme.palette.secondary.light,\r\n        '&:hover': {\r\n            backgroundColor: fade(theme.palette.secondary.light, 0.7)\r\n        }\r\n    },\r\n    selectedText: {\r\n        color: theme.palette.secondary.contrastText\r\n    },\r\n    loadingContainer: {\r\n        position:\"absolute\",\r\n        width:\"100%\",\r\n        height:\"100%\",\r\n        zIndex:999\r\n    }\r\n});\r\n\r\nlet PickerViewMaterial = function (props) {\r\n    let {theme, classes, pickerEntries, onOpenItem, onSelectItem, textRenderer, iconRenderer, loading} = props;\r\n    return (<div className={classes.root}>\r\n        { loading && <div className={classes.loadingContainer} />}\r\n        <List classes={{root:loading ? (classes.root + ' ' + classes.loading) : classes.root, padding:classes.padding}}>\r\n            {pickerEntries.map((entry) =>\r\n                (<ListItem button\r\n                           onClick={() => entry.selectable ? onSelectItem(entry.path, !entry.selected) : onOpenItem(entry.path, !entry.open)}\r\n                           key={entry.path}\r\n                           divider={true}\r\n                           classes={entry.selected ? {root:classes.selected} : {} }\r\n                    >\r\n                        <ListItemIcon classes={entry.selected ? {root:classes.selectedText} : {}}>\r\n                            {entry.openable && entry.hasChildren ? (\r\n                                <IconButton onClick={(event) => {onOpenItem(entry.path, !entry.open); event.stopPropagation()}}>{entry.open ?\r\n                                    <ExpandLess/> : <ExpandMore/>}</IconButton>) : <ExpandMore style={{opacity:0}}/>}\r\n                        </ListItemIcon>\r\n\r\n                        <ListItemIcon classes={entry.selected ? {root:classes.selectedText} : {}}\r\n                                      style={{paddingLeft: entry.depth * theme.spacing.unit}}>\r\n                            { iconRenderer && iconRenderer.call(this,entry) }\r\n                        </ListItemIcon>\r\n\r\n                        <ListItemText classes={entry.selected ? {primary:classes.selectedText} : {}} inset\r\n                                      primary={textRenderer ? textRenderer.call(this, entry) : entry.name} />\r\n                    </ListItem>\r\n                )\r\n            )}\r\n        </List>\r\n    </div>)\r\n};\r\n\r\nPickerViewMaterial.propTypes = {\r\n    pickerEntries: PropTypes.array.isRequired,\r\n    onSelectItem: PropTypes.func,\r\n    onOpenItem: PropTypes.func,\r\n    textRenderer: PropTypes.func\r\n};\r\n\r\nPickerViewMaterial = withTheme()(withStyles(styles)(PickerViewMaterial));\r\n\r\nexport {PickerViewMaterial};","import React from 'react';\r\nimport {IconButton, List, ListItem, ListItemIcon, ListItemSecondaryAction, ListItemText, withTheme} from 'material-ui';\r\nimport {ExpandLess, ExpandMore, CheckBoxOutlineBlank, CheckBox} from 'material-ui-icons'\r\nimport PropTypes from 'prop-types';\r\n\r\nlet PickerViewMaterialMultiple = function (props) {\r\n    return (<List>\r\n        {props.pickerEntries.map((entry) =>\r\n            (<ListItem button\r\n                       onClick={() => entry.selectable ? props.onSelectItem(entry.path, !entry.selected, true) : props.onOpenItem(entry.path, !entry.open)}\r\n                       key={entry.path}\r\n                >\r\n                    <ListItemIcon style={entry.selectable ? {} : {opacity: 0}}>{entry.selected ? <CheckBox/> :\r\n                        <CheckBoxOutlineBlank/>}</ListItemIcon>\r\n                    <ListItemText style={{paddingLeft: entry.depth * props.theme.spacing.unit}} inset\r\n                                  primary={props['textRenderer'] ? props['textRenderer'].call(this, entry) : entry.name} />\r\n                    <ListItemSecondaryAction>\r\n                        {entry.openable && entry.hasChildren ? (\r\n                            <IconButton onClick={() => props.onOpenItem(entry.path, !entry.open)}>{entry.open ?\r\n                                <ExpandLess/> : <ExpandMore/>}</IconButton>) : null}\r\n                    </ListItemSecondaryAction>\r\n                </ListItem>\r\n            )\r\n        )}\r\n    </List>)\r\n};\r\n\r\nPickerViewMaterialMultiple.propTypes = {\r\n    pickerEntries: PropTypes.array.isRequired,\r\n    onSelectItem:  PropTypes.func,\r\n    onOpenItem: PropTypes.func,\r\n    textRenderer: PropTypes.func,\r\n};\r\n\r\nPickerViewMaterialMultiple = withTheme()(PickerViewMaterialMultiple);\r\n\r\nexport { PickerViewMaterialMultiple };","import React from 'react';\r\nimport {Query} from 'react-apollo';\r\nimport gql from \"graphql-tag\";\r\nimport * as _ from \"lodash\";\r\nimport {replaceFragmentsInDocument} from \"@jahia/apollo-dx\";\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Picker extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let {\r\n            fragments, render, rootPaths, queryVariables, hideRoot,\r\n            openableTypes, selectableTypes,\r\n            openPaths, onOpenItem,\r\n            selectedPaths, onSelectItem,\r\n            defaultSelectedPaths, onSelectionChange,\r\n            defaultOpenPaths,\r\n            onLoading,\r\n            ...otherProps\r\n        } = props;\r\n\r\n        this.isOpenControlled = openPaths != null;\r\n        this.isSelectionControlled = selectedPaths != null;\r\n\r\n        this.query = gql`\r\n            query PickerQuery($rootPaths:[String!]!, $selectable:[String]!, $openable:[String]!, $openPaths:[String!]!, $types:[String]!) {\r\n                jcr {\r\n                    rootNodes:nodesByPath(paths: $rootPaths) {\r\n                        path\r\n                        uuid\r\n                        name\r\n                        children(typesFilter:{types:$types}, limit:1) {\r\n                            pageInfo {\r\n                                totalCount\r\n                            }\r\n                        }\r\n                        selectable : isNodeType(type: {types:$selectable})\r\n                        openable : isNodeType(type: {types:$openable})\r\n                        ... node\r\n                    },\r\n                    openNodes:nodesByPath(paths: $openPaths) {\r\n                        path\r\n                        uuid\r\n                        children(typesFilter:{types:$types}) {\r\n                            nodes {\r\n                                path\r\n                                uuid\r\n                                name\r\n                                children(typesFilter:{types:$types}, limit:1) {\r\n                                    pageInfo {\r\n                                        totalCount\r\n                                    }\r\n                                }\r\n                                selectable : isNodeType(type: {types:$selectable})\r\n                                openable : isNodeType(type: {types:$openable})\r\n                                ... node\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }`;\r\n\r\n\r\n        replaceFragmentsInDocument(this.query, fragments);\r\n\r\n        let eventsHandlers = {};\r\n\r\n        let state = {\r\n            renderProps: otherProps,\r\n            eventsHandlers: eventsHandlers\r\n        };\r\n\r\n\r\n        if (!this.isOpenControlled) {\r\n            state.openPaths = defaultOpenPaths ? _.clone(defaultOpenPaths) : [];\r\n            eventsHandlers.onOpenItem = (path, open) => {\r\n                this.setState((prevState) => ({\r\n                    openPaths: open ?\r\n                        [...prevState.openPaths, path] :\r\n                        _.filter(prevState.openPaths, (thispath) => thispath !== path)\r\n                }));\r\n            };\r\n        } else {\r\n            eventsHandlers.onOpenItem = onOpenItem;\r\n        }\r\n\r\n        if (!this.isSelectionControlled) {\r\n            state.selectedPaths = defaultSelectedPaths ? _.clone(defaultSelectedPaths) : [];\r\n            eventsHandlers.onSelectItem = (path, selected, multiple) => {\r\n                this.setState((prevState) => {\r\n                    let newSelectedPaths = selected ?\r\n                        [...(multiple ? prevState.selectedPaths : []), path] :\r\n                        _.filter(prevState.selectedPaths, (thispath) => thispath !== path);\r\n                    onSelectionChange(newSelectedPaths);\r\n                    return {\r\n                        selectedPaths: newSelectedPaths\r\n                    };\r\n                });\r\n            };\r\n        } else {\r\n            eventsHandlers.onSelectItem = onSelectItem;\r\n        }\r\n\r\n        this.state = state;\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        let {\r\n            fragments, render, rootPaths, queryVariables, hideRoot,\r\n            openableTypes, selectableTypes,\r\n            openPaths, onOpenItem,\r\n            selectedPaths, onSelectItem,\r\n            defaultSelectedPaths, onSelectionChange,\r\n            defaultOpenPaths,\r\n            onLoading,\r\n            ...otherProps\r\n        } = nextProps;\r\n\r\n        if (!_.isEqual(_.omit(otherProps, _.functions(otherProps)), _.omit(prevState.renderProps, _.functions(prevState.renderProps)))) {\r\n            return {\r\n                renderProps: otherProps\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    getVariables(selectedPaths, openPaths) {\r\n        let {rootPaths, openableTypes, selectableTypes, queryVariables} = this.props;\r\n\r\n        let vars = {\r\n            rootPaths: rootPaths,\r\n            types: _.union(openableTypes, selectableTypes),\r\n            selectable: selectableTypes,\r\n            openable: openableTypes,\r\n            openPaths: openPaths,\r\n        };\r\n\r\n        if (queryVariables) {\r\n            _.assign(vars, queryVariables);\r\n        }\r\n\r\n        return vars;\r\n    }\r\n\r\n    getPickerEntries(data, selectedPaths, openPaths) {\r\n        let pickerEntries = [];\r\n        let nodesById = {};\r\n        let jcr = data.jcr;\r\n\r\n        let addNode = function (node, depth, index) {\r\n            let selected = false;\r\n            if (node.selectable) {\r\n                selected = _.indexOf(selectedPaths, node.path) !== -1\r\n            }\r\n            let pickerNode = {\r\n                name: node.name,\r\n                path: node.path,\r\n                open: node.openable && _.indexOf(openPaths, node.path) !== -1,\r\n                selected: selected,\r\n                openable: node.openable,\r\n                selectable: node.selectable,\r\n                depth: depth,\r\n                prefix: _.repeat(\"&nbsp;\", depth * 3),\r\n                node: node,\r\n                hidden: false,\r\n                hasChildren: node.children.pageInfo.totalCount > 0\r\n            };\r\n            pickerEntries.splice(index, 0, pickerNode);\r\n            nodesById[node.uuid] = pickerNode;\r\n            return pickerNode;\r\n        };\r\n\r\n        if (jcr) {\r\n            if (jcr.rootNodes) {\r\n                _.forEach(jcr.rootNodes, rootNode => {\r\n                    let root = addNode(rootNode, 0, 0);\r\n                    root.hidden = this.props.hideRoot;\r\n                });\r\n            }\r\n            if (jcr.openNodes) {\r\n                _.sortBy(jcr.openNodes, ['path']).forEach((node) => {\r\n                    let parent = nodesById[node.uuid];\r\n                    if (parent) {\r\n                        let parentIndex = _.indexOf(pickerEntries, parent);\r\n                        _.forEachRight(node.children.nodes, (child) => {\r\n                            addNode(child, parent.depth + 1, parentIndex + 1)\r\n                        })\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        // Nodes loaded, fill selection list\r\n        let selectedNodes = _.filter(pickerEntries, (node) => {\r\n            return node.selected\r\n        }).map((node) => {\r\n            return node.node\r\n        });\r\n\r\n        selectedPaths = _.map(selectedNodes, \"path\");\r\n        pickerEntries = _.filter(pickerEntries, pickerNode => {\r\n            return !pickerNode.hidden;\r\n        });\r\n\r\n        return pickerEntries;\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        let {\r\n            render:nextRender, rootPaths:nextRootPaths, hideRoot:nextHideRoot,\r\n            openPaths:nextOpenPaths, selectedPaths:nextSelectedPaths, defaultSelectedPaths:nextDefaultSelectedPaths, defaultOpenPaths:nextDefaultOpenPaths,\r\n            ...nextPropsToCompare\r\n        } = nextProps;\r\n\r\n        let {\r\n            render, rootPaths, hideRoot,\r\n            openPaths, selectedPaths, defaultSelectedPaths, defaultOpenPaths,\r\n            ...previousPropsToCompare\r\n        } = this.props;\r\n\r\n        nextPropsToCompare = _.omit(nextPropsToCompare, _.functions(nextPropsToCompare));\r\n        previousPropsToCompare = _.omit(previousPropsToCompare, _.functions(previousPropsToCompare));\r\n\r\n        let changed = (this.isSelectionControlled ? !_.isEqual(selectedPaths, nextSelectedPaths) : !_.isEqual(this.state.selectedPaths,nextState.selectedPaths))\r\n            || (this.isOpenControlled ? !_.isEqual(openPaths, nextOpenPaths) : !_.isEqual(this.state.openPaths,nextState.openPaths))\r\n            || !(_.isEqual(nextPropsToCompare, previousPropsToCompare));\r\n\r\n        return changed;\r\n        // return true;\r\n    }\r\n\r\n    render() {\r\n        let selectedPaths = this.isSelectionControlled ? this.props.selectedPaths : this.state.selectedPaths;\r\n        let openPaths = this.isOpenControlled ? this.props.openPaths : this.state.openPaths;\r\n        let {rootPaths, openableTypes, selectableTypes, queryVariables} = this.props;\r\n\r\n        openPaths = _.clone(openPaths);\r\n        let fullyOpenPath = (path) => {\r\n            let rootFound = false;\r\n            _.tail(_.split(path, \"/\")).reduce((acc, it) => {\r\n                if (!rootFound) {\r\n                    _.forEach(rootPaths, rootPath => {\r\n                        rootFound = rootFound || _.startsWith(acc, rootPath);\r\n                    })\r\n                }\r\n                if (rootFound && _.indexOf(openPaths, acc) === -1) {\r\n                    openPaths.push(acc);\r\n                }\r\n                return acc + \"/\" + it\r\n            }, \"\");\r\n        };\r\n\r\n        _.each(selectedPaths, path => fullyOpenPath(path));\r\n\r\n        let vars = this.getVariables(selectedPaths, openPaths);\r\n\r\n        return <Query query={this.query} variables={vars} fetchPolicy={\"cache-first\"} >\r\n            {\r\n                ({error, loading, data}) => {\r\n                    let Render = this.props.render;\r\n                    if (this.props.onLoading) {\r\n                        this.props.onLoading(loading);\r\n                    }\r\n                    if (loading) {\r\n                        if (this.previousEntries) {\r\n                            return <Render {...this.state.eventsHandlers} {...this.state.renderProps}\r\n                                           pickerEntries={this.previousEntries} loading={true}/>\r\n                        } else {\r\n                            return <Render {...this.state.eventsHandlers} {...this.state.renderProps}\r\n                                           pickerEntries={[]} loading={true}/>\r\n                        }\r\n                    }\r\n                    if (error) return `Error! ${error.message}`;\r\n                    let pickerEntries = this.getPickerEntries(data, selectedPaths, openPaths);\r\n                    this.previousEntries = pickerEntries;\r\n                    return <Render {...this.state.eventsHandlers} {...this.state.renderProps}\r\n                                   pickerEntries={pickerEntries} loading={false || this.props.loading}/>\r\n                }\r\n            }\r\n        </Query>\r\n    }\r\n\r\n}\r\n\r\nPicker.propTypes = {\r\n    /**\r\n     * List of root paths for the picker\r\n     */\r\n    rootPaths: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n\r\n    /**\r\n     * List of folder paths that are open by default (uncontrolled mode)\r\n     */\r\n    defaultOpenPaths: PropTypes.arrayOf(PropTypes.string),\r\n\r\n    /**\r\n     * List of node types that can be \"opened\" (folders)\r\n     */\r\n    openableTypes: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n\r\n    /**\r\n     * List of open folders in controlled mode\r\n     */\r\n    openPaths: PropTypes.arrayOf(PropTypes.string),\r\n\r\n    /**\r\n     * List of node types that can be \"selected\" (items)\r\n     */\r\n    selectableTypes: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n\r\n    /**\r\n     * Preselected items path (uncontrolled mode)\r\n     */\r\n    defaultSelectedPaths: PropTypes.arrayOf(PropTypes.string),\r\n\r\n    /**\r\n     * List of selected path in controlled mode\r\n     */\r\n    selectedPaths: PropTypes.arrayOf(PropTypes.string),\r\n\r\n    /**\r\n     * Callback when the selection has changed\r\n     */\r\n    onSelectionChange: PropTypes.func,\r\n\r\n    /**\r\n     * Component to use to do the full rendering of the tree. Should accept : pickerEntries,onSelectItem,onOpenItem . Other properties are passed through.\r\n     */\r\n    render: PropTypes.func,\r\n\r\n    /**\r\n     * Optional set of fragments to add to the graphQL query. Can be a string that identify a predefinedFragment or a fragment definition\r\n     */\r\n    fragments: PropTypes.arrayOf(PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.shape({\r\n            applyFor: PropTypes.string.isRequired,\r\n            variables: PropTypes.string,\r\n            gql: PropTypes.object.isRequired\r\n        })\r\n    ])),\r\n\r\n    /**\r\n     * Optional set of variable to pass to the graphQL query, in order to fulfill fragments needs\r\n     */\r\n    queryVariables: PropTypes.object\r\n\r\n};\r\n\r\n\r\nexport {Picker}"],"names":["getI18n","options","backends","XHR","backendOptions","contextPath","getData","splice","url","callback","data","split","ns","lang","value","JSON","stringify","status","defaults","_","use","ChainedBackend","init","i18n","reducers","store","debugTool","window","__REDUX_DEVTOOLS_EXTENSION__","createStore","state","action","key","resetStateReducer","type","undefined","theme","createMuiTheme","grey","blueGrey","lightBlue","red","deepOrange","green","darkTheme","purple","ThemeTester","props","switch","bind","themes","setState","previous","dxContext","setTheme","checked","React","Switch","Component","withDxContext","createOutletHistory","baseHistory","outletName","getPath","path","parts","base","location","pathname","newPath","indexOf","substr","p","startsWith","push","getState","newState","extractPath","s","part","length","initialLocation","listeners","history","createHref","replace","n","go","goBack","goForward","prompt","block","listener","unlisten","listen","event","assign","call","OutletRouter","createHashHistory","outletHistory","outlet","dispose","children","NotificationProvider","notificationContext","notify","message","closeNotification","Snackbar","notification","open","propTypes","PropTypes","object","isRequired","childContextTypes","DxContextProvider","apollo","redux","mui","router","apolloClient","currentTheme","client","Children","only","lng","uilang","createElement","I18nextProvider","HashRouter","ApolloProvider","Provider","generateClassName","createGenerateClassName","sheetsRegistry","sheetRegistry","SheetsRegistry","JssProvider","registry","MuiThemeProvider","sheetsManager","Map","WrappedComponent","context","contextTypes","LanguageSwitcher","anchorEl","target","changeLanguage","availableLocales","handleClick","t","Boolean","handleClose","map","locale","translate","styles","palette","background","global","typography","fontFamily","text","secondary","SettingsLayout","classes","appBar","footer","appBarStyle","root","main","element","string","withStyles","primary","light","SearchBar","handleChange","onFocus","onBlur","onClear","persist","timeout","setTimeout","onChangeFilter","inputSearchBar","placeholderLabel","Input","focus","rootFocus","input","searchIcon","Search","closeIcon","hidden","Close","style","withNodeFromPath","fragments","ViewComponent","mapResultsToProps","ownProps","node","jcr","mapPropsToOptions","vars","workspace","queryVariables","query","gql","graphql","withNodesFromPath","nodes","types","withPathFromSelection","reduxStoreId","connect","withNotifications","fade","contrastText","PickerViewMaterial","pickerEntries","onOpenItem","onSelectItem","textRenderer","iconRenderer","loading","loadingContainer","padding","entry","selectable","selected","selectedText","openable","hasChildren","stopPropagation","ExpandLess","ExpandMore","opacity","paddingLeft","depth","spacing","unit","ListItemText","name","array","func","withTheme","PickerViewMaterialMultiple","CheckBox","CheckBoxOutlineBlank","Picker","render","rootPaths","hideRoot","openableTypes","selectableTypes","openPaths","selectedPaths","defaultSelectedPaths","onSelectionChange","defaultOpenPaths","onLoading","otherProps","isOpenControlled","isSelectionControlled","eventsHandlers","prevState","thispath","multiple","newSelectedPaths","nodesById","addNode","index","pickerNode","pageInfo","totalCount","uuid","rootNodes","rootNode","openNodes","forEach","parent","parentIndex","child","selectedNodes","nextProps","nextState","nextRender","nextRootPaths","nextHideRoot","nextOpenPaths","nextSelectedPaths","nextDefaultSelectedPaths","nextDefaultOpenPaths","nextPropsToCompare","previousPropsToCompare","changed","fullyOpenPath","rootFound","reduce","acc","it","rootPath","getVariables","error","Render","previousEntries","renderProps","getPickerEntries","arrayOf","oneOfType","shape"],"mappings":"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"}
=======
{"version":3,"file":"react-dxcomponents.umd.js","sources":["../src/javascript/i18n/getI18n.js","../src/javascript/reduxStore.js","../src/javascript/theme/theme.js","../src/javascript/theme/ThemeTester.jsx","../src/javascript/router/createOutletHistory.js","../src/javascript/router/OutletRouter.jsx","../src/javascript/notification/NotificationProvider.jsx","../src/javascript/context/DxContextProvider.jsx","../src/javascript/context/withDxContext.jsx","../src/javascript/i18n/LanguageSwitcher.jsx","../src/javascript/layout/SettingsLayout.jsx","../src/javascript/layout/SearchBar.jsx","../src/javascript/helpers/withNodeFromPath.jsx","../src/javascript/helpers/withNodesFromPath.jsx","../src/javascript/helpers/withPathFromSelection.jsx","../src/javascript/notification/withNotifications.jsx","../src/javascript/picker/PickerViewMaterial.jsx","../src/javascript/picker/PickerViewMaterialMultiple.jsx","../src/javascript/picker/Picker.jsx"],"sourcesContent":["import i18n from 'i18next';\nimport XHR from 'i18next-xhr-backend';\nimport ChainedBackend from 'i18next-chained-backend';\n\nimport * as _ from 'lodash';\n\nfunction getI18n(options) {\n\n    let backends = [ XHR ];\n    let backendOptions = [ {\n        loadPath: (options.contextPath ? options.contextPath : '') + '/modules/{{ns}}/javascript/locales/{{lng}}.json'\n    }];\n\n    if (options['getData']) {\n        let getData = options['getData'];\n        backends.splice(0,0,XHR);\n        backendOptions.splice(0,0,\n            {\n                loadPath: \"{{ns}}/{{lng}}\",\n                ajax:(url, options, callback, data) => {\n                    let [ns,lang] = url.split('/');\n                    let value = getData(ns,lang);\n                    if (value) {\n                        callback(JSON.stringify(value), {status: 200});\n                    } else {\n                        callback(null, {status:400});\n                    }\n                }\n            }\n        )\n    }\n\n    let defaults = {\n        fallbackLng: 'en',\n        debug: true,\n\n        interpolation: {\n            escapeValue: false, // not needed for react!!\n        },\n\n        // react i18next special options (optional)\n        react: {\n            wait: true,\n            bindI18n: 'languageChanged loaded',\n            bindStore: 'added removed',\n            nsMode: 'default'\n        },\n\n\n        backend: {\n            backends: backends,\n            backendOptions: backendOptions\n        }\n    };\n\n    options = _.merge(defaults, options);\n\n    i18n\n        .use(ChainedBackend)\n        .init(options);\n    return i18n;\n}\n\n\nexport { getI18n };","import {createStore} from 'redux'\nimport * as _ from \"lodash\";\n\nconst reducers = {};\n\nconst store = function () {\n    let debugTool;\n    if (typeof window !== 'undefined') {\n        debugTool = window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__({\n            name: \"DX Redux\",\n            instanceId: \"dx\"\n        });\n    }\n\n    return createStore((state = {}, action) => _.mapValues(reducers, (value, key) => value(state[key], action)), debugTool);\n}();\n\nconst resetStateReducer = function(state, action) {\n    if (action.type === 'RESET_STATE') {\n        return undefined;\n    }\n    return state;\n};\n\nexport {reducers, store, resetStateReducer};\n","import {createMuiTheme} from 'material-ui';\nimport {blueGrey, lightBlue, red, grey, purple, green, deepOrange} from 'material-ui/colors/index'\n\n// All the following keys are optional.\n// We try our best to provide a great default value.\nlet theme = createMuiTheme({\n\tpalette: {\n        background: {\n            global: grey[200],\n        },\n        contrastThreshold: 2.5,\n        tonalOffset: 0.2,\n        primary: {\n            main: blueGrey[600],\n        },\n\t\tsecondary: {\n            main: '#00a0e3',\n        },\n        error: {\n            main: red[400],\n        },\n        publish: {\n            main: deepOrange[500],\n        },\n        enabled: {\n            main: green[400],\n        },\n        delete: {\n            main: red[600],\n        },\n\t\tcancelButton: {\n\t\t\tmain: '#676767'\n\t\t},\n\t\tconfirmColor: {\n\t\t\tmain: '#00a0e3'\n\t\t}\n    },\n\toverrides: {\n\t\tMuiList: {\n\t\t\troot: {\n\t\t\t}\n\t\t},\n\t\tMuiListItem: {\n\t\t\troot: {\n\t\t\t}\n\t\t},\n\t\tMuiListItemText: {\n\t\t\troot: {\n\t\t\t}\n\n\t\t},\n\t\tMuiDialogTitle: {\n\t\t\troot: {\n\t\t\t\twidth: '600px',\n\t\t\t\tboxSizing: 'border-box',\n\t\t\t\tpadding: '24px 24px 0px 24px',\n\t\t\t\tfontSize: '1rem',\n\t\t\t}\n\t\t},\n\t\tMuiDialogContent: {\n\t\t\troot: {\n\t\t\t\tpadding: '4px 24px 10px 24px',\n\t\t\t},\n\n\t\t},\n\t\tMuiDialogContentText: {\n\t\t\troot: {\n\t\t\t\tfontSize: '0.875rem'\n\t\t\t}\n\t\t},\n\t\tMuiDialogActions: {\n\t\t\troot: {\n\t\t\t\tjustifyContent: 'left',\n\t\t\t\tpadding: '0 20px',\n\t\t\t\tmarginTop: '30px',\n\t\t\t},\n\t\t},\n\t\tMuiSwitch: {\n\t\t\troot: {\n\t\t\t\twidth: '52px'\n\t\t\t}\n\t\t},\n        MuiButton: {\n            root: {\n                color: \"inherit\",\n\t\t\t\tpadding: '8px',\n\t\t\t\tminWidth: '68px'\n            },\n\t\t\t'&:hover': {\n\t\t\t\tbackground: 'red'\n\t\t\t}\n        },\n\t\tMuiTableRow: {\n\t\t\troot: {\n\t\t\t\tborderBottom: '1px solid rgba(224, 224, 224, 1)'\n\t\t\t}\n\t\t},\n        MuiTableCell: {\n            body: {\n                color: \"inherit\",\n            }\n        },\n        MuiIconButton: {\n            root: {\n                color: \"inherit\",\n\t\t\t\twidth: '38px'\n            }\n        },\n        MuiCheckbox: {\n            default: {\n                color: \"inherit\",\n            }\n        },\n\t\tMuiFormControlLabel: {\n\t\t\tlabel: {\n\t\t\t\tcolor: '#676767',\n\t\t\t\tfontSize: '13px'\n\t\t\t}\n\t\t},\n\t\tMuiInput: {\n\t\t\troot: {\n\t\t\t\t'&:before': {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t},\n\t\t\t\t'&:after': {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t},\n\t\t\t\tboxShadow: 'inset 0px 1px 3px 0px rgba(38,38,38,0.3)',\n\t\t\t\tborderRadius: '2px',\n\t\t\t\tbackground: 'whitesmoke',\n\t\t\t\tpadding: '2px 11px 0',\n\t\t\t\tboxSizing: 'border-box'\n\t\t\t},\n\t\t\tinput: {\n\t\t\t\tcolor: '#676767',\n\t\t\t\tfontSize: '0.8rem'\n\t\t\t}\n\t\t},\n\t\tMuiFormControl: {\n\t\t\troot: {\n\t\t\t\twidth:\"100%\",\n\t\t        \"& error\": {\n\t\t        },\n\t\t        \"& message\": {\n\t\t            display:\"none\"\n\t\t        },\n\t\t        \"& label\": {\n\t\t        }\n\t\t\t}\n\t\t},\n\t\tMuiFormHelperText: {\n\t\t\troot: {\n\t\t\t\tright: '10px',\n\t\t\t\tcolor: 'red',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tbackground: 'whitesmoke',\n\t\t\t\theight: 'calc(100% - 6px)',\n\t\t\t\ttop: '3px',\n\t\t\t\tmargin: '0',\n\t\t\t\tmarginTop: '0',\n\t\t\t\tlineHeight: '0.3rem',\n\t\t\t\tzIndex: '99',\n\t\t\t\tpadding: '11px 5px 11px 11px',\n\t\t\t\tboxSizing: 'border-box',\n\t\t\t\t\"&:hover message\": {\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t},\n\t\t\t\t\"& error\": {\n\t\t        },\n\t\t        \"& message\": {\n\t\t\t\t\ttop: '24px',\n\t\t\t\t\tright: '0',\n\t\t\t\t\twidth: '280px',\n\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\tpadding: '9px',\n\t\t\t\t\tzIndex: '9',\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tbackground: 'blue',\n\t\t\t\t\tborder: '1px solid red',\n\t\t\t\t\tboxShadow: '0px 0px 10px 2px rgba(38, 38, 38, 0.7)',\n\t\t\t\t\tborderRadius: '6px',\n\t\t        },\n\t\t        \"& label\": {\n\t\t        }\n\t\t\t}\n\t\t},\n\t\tMuiTypography: {\n\t\t\troot: {\n\t\t\t},\n\t\t\tbody: {\n\t\t\t\tfontSize:'0.8rem'\n\t\t\t},\n\t\t\tcolorTextSecondary: {\n\t\t\t\tcolor: 'rgba(0, 0, 0, 0.3)'\n\t\t\t},\n\t\t\ttitle: {\n\t\t\t\tfontSize: '1.2rem'\n\t\t\t},\n\t\t\tsubheading: {\n\t\t\t\tfontSize: '0.875rem'\n\t\t\t},\n\t\t\tcaption: {\n\t\t\t\tfontSize: '0.65rem',\n\t\t\t\tfontWeight: '800',\n\t\t\t\ttextTransform: 'uppercase'\n\t\t\t}\n\t\t},\n\t\tMuiPaper: {\n\t\t\troot: {\n\n\t\t\t}\n\t\t}\n    }\n});\n\nlet darkTheme = createMuiTheme({\n    palette: {\n        type: \"dark\",\n        background: {\n            global: grey[900]\n        },\n        contrastThreshold: 3.0,\n        tonalOffset: 0.2,\n        primary: {\n            main: purple[500]\n        },\n        secondary: {\n            main: green[400]\n        },\n        error: {\n            main: red[200]\n        },\n        publish: {\n            main: deepOrange[500],\n        },\n        enabled: {\n            main: green[400],\n        },\n        delete: {\n            main: red[600],\n        }\n    },\n    overrides: {\n        MuiButton: {\n            root: {\n                color: \"inherit\",\n            }\n        },\n        MuiTableCell: {\n            body: {\n                color: \"inherit\",\n            }\n        },\n        MuiIconButton: {\n            root: {\n                color: \"inherit\",\n            }\n        },\n        MuiCheckbox: {\n            default: {\n                color: \"inherit\",\n            }\n        }\n    }\n});\n\n\nexport {theme, darkTheme}\n","import React from 'react';\nimport {withDxContext} from \"../context\";\nimport {Switch} from 'material-ui'\nimport {theme, darkTheme} from \"./theme\";\n\nclass ThemeTester extends React.Component {\n    constructor(props) {\n        super(props);\n        this.switch = this.switch.bind(this);\n\n        this.themes = [theme, darkTheme];\n        this.state = {\n            checked:false\n        };\n    }\n\n    switch() {\n        this.setState((previous) => {\n            this.props.dxContext.setTheme(previous.checked ? theme : darkTheme);\n            return {\n                checked: !previous.checked\n            }\n        });\n    }\n\n\n    render() {\n        return <Switch color=\"default\" onChange={this.switch} checked={this.state.checked}/>\n    }\n\n}\n\n\nThemeTester = withDxContext()(ThemeTester);\n\nexport {ThemeTester}","import * as _ from \"lodash\";\n\nfunction createOutletHistory(baseHistory, outletName) {\n\n    const getPath = (path) => {\n        let parts = [];\n        let base = baseHistory.location.pathname;\n        let newPath = outletName + ':' + path;\n        if (base.indexOf('(') > -1) {\n            base = base.substr(base.indexOf('(')+1);\n            base = base.substr(0,base.indexOf(')'));\n            parts = base.split('//')\n            parts = _.map(parts, (p)=> (p.startsWith(outletName + ':') ? newPath : p));\n        }\n        if (parts.indexOf(newPath) === -1) {\n            parts.push(newPath);\n        }\n        return '/('+ _.join(parts,'//') + ')';\n    };\n\n    const getState = function (state) {\n        let newState;\n        if (state) {\n            newState = baseHistory.location.state ? baseHistory.location.state : {};\n            newState['router_' + outletName] = state;\n        } else if (baseHistory.location.state) {\n            newState = baseHistory.location.state;\n            delete newState['router_' + outletName]\n        }\n        return newState;\n    };\n\n    const extractPath = function(base) {\n        if (base.indexOf('(') > -1) {\n            base = base.substr(base.indexOf('(') + 1);\n            base = base.substr(0, base.indexOf(')'));\n            let parts = base.split('//')\n            let s = outletName + ':';\n            let part = _.find(parts, (p)=> (p.startsWith(s)));\n            if (part) {\n                return part.substr(s.length)\n            }\n        }\n        return '';\n    };\n\n    let initialLocation = _.clone(baseHistory.location);\n    initialLocation.pathname = extractPath(initialLocation.pathname);\n\n    let listeners = [];\n\n    const history = {\n        length: baseHistory.length,\n        action: baseHistory.action,\n        location: initialLocation,\n        createHref: (location) => {\n            return baseHistory.createHref({pathname:getPath(location.pathname)});\n        },\n        push: (path, state) => {\n            return baseHistory.push(getPath(path),getState(state));\n        },\n        replace: (path, state) => {\n            baseHistory.replace(getPath(path),getState(state));\n        },\n        go: (n) => {\n            baseHistory.go(n)\n        },\n        goBack: () => {\n            baseHistory.goBack()\n        },\n        goForward: () => {\n            baseHistory.goForward()\n        },\n        block:(prompt) => {\n            return baseHistory.block(prompt)\n        },\n        listen: (listener) => {\n            listeners.push(listener);\n            return () => {\n                _.pull(listeners, listener);\n            }\n        },\n        dispose: () => {\n            unlisten();\n        }\n    };\n\n    const unlisten = baseHistory.listen( (event) => {\n        let path = extractPath(event.pathname);\n        let state;\n        if (event.state && event.state['router_' + outletName]) {\n            state = event.state['router_' + outletName];\n        }\n        if (history.location.pathname !== path || history.location.state !== state) {\n            Object.assign(history.location, event);\n            history.location.pathname = path;\n            history.location.state = state;\n            _.each(listeners, (listener) => listener.call(this,history.location))\n        }\n    });\n\n    // unlisten when not used anymore !\n\n    return history\n}\n\nexport { createOutletHistory }","import React from 'react';\n\nimport {createHashHistory} from \"history\";\nimport {createOutletHistory} from \"./createOutletHistory\"\nimport {Router} from 'react-router'\n\nclass OutletRouter extends React.Component {\n\n    constructor(props) {\n        super(props);\n        let baseHistory = createHashHistory();\n        this.outletHistory = createOutletHistory(baseHistory, props.outlet);\n    }\n\n    componentWillMount() {\n\n    }\n\n    componentWillUnmount() {\n        this.outletHistory.dispose();\n    }\n\n    render() {\n        return (<Router history={this.outletHistory}>{this.props.children}</Router>)\n    }\n}\n\nexport { OutletRouter };","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Component } from \"react\";\nimport {Snackbar} from \"material-ui\";\n\nclass NotificationProvider extends Component {\n    constructor(props) {\n        super(props);\n\n        let {notificationContext} = this.props;\n\n        this.state = {\n            notification: {\n                message: \"\",\n                open: false\n            }\n        };\n\n        notificationContext.notify = (message) => {\n            this.setState({\n                notification: {\n                    message: message,\n                    open:true\n                }\n            });\n        };\n\n        notificationContext.closeNotification = () => {\n            this.setState({\n                notification: {\n                    message: '',\n                    open: false\n                }\n            });\n        };\n    }\n\n    getChildContext() {\n        return {\n            notificationContext: this.props.notificationContext\n        };\n    }\n\n    render() {\n        // TODO make it configurable\n        return <div>\n            {this.props.children}\n\n            <Snackbar\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                }}\n                autoHideDuration={5000}\n                onClose={this.props.notificationContext.closeNotification}\n                open={this.state.notification.open}\n                SnackbarContentProps={{\n                    'aria-describedby': 'message-id',\n                }}\n                message={<span id=\"message-id\">{this.state.notification.message}</span>}\n            />\n        </div>;\n    }\n}\n\nNotificationProvider.propTypes = {\n    notificationContext: PropTypes.object.isRequired\n};\n\nNotificationProvider.childContextTypes = {\n    notificationContext: PropTypes.object.isRequired\n};\n\nexport {NotificationProvider}","import React from 'react';\nimport {MuiThemeProvider} from 'material-ui';\nimport {createGenerateClassName} from 'material-ui/styles/index';\nimport {getI18n} from \"../i18n/getI18n\";\nimport {store} from '../reduxStore';\nimport {theme} from '../theme'\nimport {client} from '@jahia/apollo-dx';\nimport {ApolloProvider} from 'react-apollo';\nimport {Provider} from 'react-redux'\nimport {I18nextProvider} from 'react-i18next'\nimport {HashRouter} from 'react-router-dom'\nimport {OutletRouter} from '../router'\nimport PropTypes from 'prop-types';\nimport {JssProvider, SheetsRegistry} from 'react-jss';\nimport {NotificationProvider} from \"../notification/NotificationProvider\";\n\nclass DxContextProvider extends React.Component {\n    constructor(props) {\n        super(props);\n        let {dxContext, children, i18n, apollo, redux, mui, router, apolloClient} = this.props;\n        let state = {};\n        if (mui) {\n            if (typeof mui === 'object') {\n                state.currentTheme = mui;\n            } else {\n                state.currentTheme = theme;\n            }\n            dxContext.setTheme = (theme) => {\n                // theTheme = _.merge({}, theme, this.state.theme);\n                this.setState({\n                    currentTheme: theme\n                });\n            };\n        }\n\n        if (dxContext.apolloClient) {\n            state.apolloClient = dxContext.apolloClient;\n        } else if (apolloClient) {\n            state.apolloClient = apolloClient;\n        } else if (apollo) {\n            let options = {contextPath:dxContext.contextPath};\n            if (typeof apollo === 'object') {\n                Object.assign(options, apollo)\n            }\n            state.apolloClient = client(options);\n        }\n\n        this.state = state;\n    }\n\n    getChildContext() {\n        return {dxContext: this.props.dxContext};\n    }\n\n    render() {\n        let {dxContext, children, i18n, apollo, redux, mui, router} = this.props;\n        let {currentTheme, apolloClient} = this.state;\n\n        let Component = React.Children.only(children);\n        if (i18n) {\n            let options = {lng:dxContext.uilang, contextPath:dxContext.contextPath};\n            if (typeof i18n === 'object') {\n                Object.assign(options, i18n)\n            }\n            Component = React.createElement(I18nextProvider, {i18n:getI18n(options)}, Component);\n        }\n        if (router) {\n            let router = HashRouter;\n            let options = {};\n            if (typeof router === 'object') {\n                if (router.type === 'outlet') {\n                    router = OutletRouter;\n                    options.outlet = router.outlet;\n                }\n            }\n            Component = React.createElement(HashRouter, options, Component);\n        }\n        if (apolloClient) {\n            Component = React.createElement(ApolloProvider, {client:apolloClient}, Component);\n        }\n        if (redux) {\n            Component = React.createElement(Provider, {store:store}, Component);\n        }\n\n        if (currentTheme) {\n            let generateClassName = dxContext.generateClassName ? dxContext.generateClassName : createGenerateClassName();\n            let sheetsRegistry = dxContext.sheetRegistry ? dxContext.sheetRegistry : new SheetsRegistry();\n\n            Component = React.createElement(JssProvider, {registry: sheetsRegistry,  generateClassName:generateClassName},\n                React.createElement(MuiThemeProvider, {theme: currentTheme, sheetsManager:new Map()},\n                    React.createElement(NotificationProvider, {notificationContext:{}}, Component)));\n        }\n\n        return Component;\n    }\n}\n\nDxContextProvider.childContextTypes = {\n    dxContext: PropTypes.object\n};\n\nexport {DxContextProvider}","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction withDxContext() {\n    return (WrappedComponent) => {\n        let Component = class extends React.Component {\n            render() {\n                return (<WrappedComponent dxContext={this.context.dxContext} {...this.props} />)\n            }\n        }\n\n        Component.contextTypes = {\n            dxContext: PropTypes.object\n        };\n\n        return Component\n    }\n}\n\nexport { withDxContext }","import React from 'react';\nimport {Button, Menu, MenuItem} from 'material-ui';\nimport {translate} from 'react-i18next';\nimport PropTypes from 'prop-types';\n\nclass LanguageSwitcher extends React.Component {\n\n    constructor(props,context) {\n        super(props,context);\n        this.state = {\n            anchorEl: null,\n        };\n    }\n\n    handleClick(event) {\n        this.setState({anchorEl: event.target});\n    }\n\n    handleClose(lang) {\n        this.setState({anchorEl: null});\n        if (lang) {\n            this.context.i18n.changeLanguage(lang);\n        }\n    };\n\n    render() {\n        let availableLocales = ['fr', 'en'];\n\n        return (<div>\n            <Button onClick={this.handleClick.bind(this)}\n            >{this.props.t('label.languages')}</Button>\n            <Menu open={Boolean(this.state.anchorEl)} onClose={this.handleClose.bind(this, null)}\n                  anchorEl={this.state.anchorEl}>\n                {availableLocales.map((locale) => (\n                    <MenuItem onClick={this.handleClose.bind(this, locale)} key={locale}\n                              value={locale}>{locale}</MenuItem>))}\n            </Menu>\n        </div>);\n    }\n}\n\nLanguageSwitcher.contextTypes = {\n    i18n: PropTypes.object\n};\n\nLanguageSwitcher = translate('react-dxcomponents')(LanguageSwitcher);\n\n\nexport {LanguageSwitcher}\n","import React from 'react';\nimport {AppBar, Toolbar, Typography, withStyles} from 'material-ui';\nimport PropTypes from 'prop-types';\n\nconst styles = theme => ({\n    root: {\n        backgroundColor: theme.palette.background.global\n    },\n    main: {\n        minHeight: 'calc(100% - 96px)',\n        marginTop: 64,\n        padding: 1\n    },\n    footer: {\n        fontSize: '14px',\n        fontFamily: theme.typography.fontFamily,\n        fontWeight: 300,\n        padding: \"8px\",\n        textAlign: \"center\",\n        color: theme.palette.text.secondary\n    },\n    appBar: {\n        transition: \"all 200ms ease-in-out\"\n    }\n});\n\n\nclass SettingsLayout extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        let { classes, appBar, children, footer, appBarStyle } = this.props;\n        return (\n            <section className={classes.root} >\n                <AppBar position=\"fixed\" classes={{root:classes.appBar}} style={appBarStyle}>\n                    {appBar}\n                </AppBar>\n                <section className={classes.main}>\n                    {children}\n                </section>\n                <footer className={classes.footer}>\n                    {footer}\n                </footer>\n            </section>\n        );\n    }\n}\n\n\nSettingsLayout.propTypes = {\n    appBar: PropTypes.element,\n    footer: PropTypes.string\n};\n\nSettingsLayout = withStyles(styles)(SettingsLayout);\n\nexport {SettingsLayout};\n","import React from 'react';\nimport {Input, InputAdornment, withStyles, Icon, IconButton} from 'material-ui';\nimport {Search, Close} from 'material-ui-icons';\nimport {translate} from 'react-i18next';\n\nconst styles = theme => ({\n    root: {\n        margin: '0',\n        color : 'inherit',\n        backgroundColor : theme.palette.primary.light,\n        width: '720px',\n        height: '44px',\n        lineHeight: '40px',\n        borderRadius: '3px',\n        fontWeight: '200'\n    },\n    rootFocus: {\n        margin: '0',\n        color: theme.palette.text.secondary,\n        backgroundColor : '#fff',\n        width: '720px',\n        height: '44px',\n        lineHeight: '40px',\n        borderRadius: '3px',\n        fontWeight: '100',\n        boxShadow: \"0 1px 8px 0 rgba(0, 0, 0, 0.4)\",\n        // '& $input': {\n        //     width: '300px'\n        // }\n    },\n    input: {\n        transitionProperty: 'width',\n        transitionDuration: '300ms',\n        transitionTimingFunction: 'cubic-bezier(0.4, 0, 0.2, 1)',\n        transitionDelay: '0ms',\n\n    },\n    searchIcon: {\n        'marginTop': 'auto',\n        'marginBottom': 'auto',\n        'paddingLeft': '14px',\n        'opacity': '0.87'\n    },\n    hidden: {\n        opacity: 0,\n        marginTop: 'auto',\n        marginBottom: 'auto'\n    },\n    closeIcon: {\n        marginTop: 'auto',\n        marginBottom: 'auto',\n        opacity: 0.87\n    }\n});\n\nclass SearchBar extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n        this.onFocus = this.onFocus.bind(this);\n        this.onBlur = this.onBlur.bind(this);\n        this.onClear = this.onClear.bind(this);\n        this.state = {\n            focus: false\n        }\n    }\n\n    handleChange(event) {\n        // Let the handler deal with the change only when the user has paused changing the filter text for a second.\n        event.persist();\n        if (this.timeout) {\n            clearTimeout(this.timeout);\n        }\n        this.timeout = setTimeout(function() {\n            this.props.onChangeFilter(event.target.value)\n        }.bind(this), 1000);\n    }\n\n    onClear() {\n        this.inputSearchBar.value = '';\n        this.props.onChangeFilter('');\n    }\n\n    onFocus() {\n        this.setState({\n            focus: true\n        });\n        this.props.onFocus();\n    }\n\n    onBlur() {\n        this.setState({\n            focus: false\n        });\n        this.props.onBlur();\n    }\n\n    render() {\n\n        const { classes,t, placeholderLabel } = this.props;\n\n        return (\n            <Input classes={{root: (this.state.focus ? classes.rootFocus : classes.root), input: classes.input}}\n                   onChange={this.handleChange}\n                   onBlur={this.onBlur}\n                   onFocus={this.onFocus}\n                   disableUnderline={true}\n                   type=\"text\"\n                   inputRef={(input) => {this.inputSearchBar = input;}}\n                   placeholder={placeholderLabel || t('label.searchPlaceholder')}\n                   startAdornment={<InputAdornment classes={{root: classes.searchIcon}} position=\"start\"><Search/></InputAdornment>}\n                   endAdornment={<InputAdornment position=\"end\" classes={{root: (this.state.focus ? classes.closeIcon : classes.hidden)}}>\n                       <IconButton onClick={this.onClear}>\n                       <Icon><Close/></Icon>\n                   </IconButton></InputAdornment>}\n                   style={this.props.style}>\n            </Input>\n        )\n    }\n}\n\nSearchBar = withStyles(styles)(translate('react-dxcomponents')(SearchBar));\n\nexport {SearchBar};","import React from 'react';\nimport {graphql} from 'react-apollo';\nimport gql from \"graphql-tag\";\nimport * as _ from \"lodash\";\nimport {replaceFragmentsInDocument} from \"@jahia/apollo-dx\";\n\nfunction withNodeFromPath(fragments) {\n    return (ViewComponent) => {\n        // GraphQL maps\n        let mapResultsToProps = ({data, ownProps}) => {\n            let node;\n\n            if (data.jcr && data.jcr.node) {\n                node = data.jcr.node;\n            }\n\n            return {\n                ...ownProps,\n                node: node,\n            };\n        };\n\n        let mapPropsToOptions = (props) => {\n            let vars = {\n                path: props.path,\n                workspace: props.workspace ? props.workspace : 'EDIT'\n            };\n            if (props.queryVariables) {\n                _.assign(vars, props.queryVariables);\n            }\n\n            return {\n                variables: vars,\n                skip: !props.path\n            }\n        };\n\n        let query = gql`\n            query NodeQuery($path:String!, $workspace:Workspace!) {\n                jcr(workspace:$workspace) {\n                    workspace\n                    node:nodeByPath(path: $path) {\n                        workspace\n                        path\n                        uuid\n                        ... node\n                    }\n                }\n            }`;\n\n        replaceFragmentsInDocument(query, fragments);\n\n        return graphql(query, {\n            props: mapResultsToProps,\n            options: mapPropsToOptions\n        })(ViewComponent);\n    }\n}\n\nexport {withNodeFromPath};\n","import React from 'react';\nimport {graphql} from 'react-apollo';\nimport gql from \"graphql-tag\";\nimport * as _ from \"lodash\";\nimport {replaceFragmentsInDocument} from \"@jahia/apollo-dx\";\n\nfunction withNodesFromPath(fragments) {\n    return (ViewComponent) => {\n        // GraphQL maps\n        let mapResultsToProps = ({data, ownProps}) => {\n            let nodes = [];\n\n            let jcr = data.jcr;\n\n            if (jcr) {\n                if (jcr.node) {\n                    nodes = jcr.node.children.nodes;\n                }\n            }\n\n            return {\n                ...ownProps,\n                nodes: nodes,\n            };\n        };\n\n        let mapPropsToOptions = (props) => {\n            let vars = {\n                path: props.path,\n                types: props.types,\n            };\n            if (props.queryVariables) {\n                _.assign(vars, props.queryVariables);\n            }\n\n            return {\n                variables: vars,\n                skip: !props.path\n            }\n        };\n\n        let query = gql`\n            query NodesQuery($path:String!, $types:[String]!) {\n                jcr {\n                    node:nodeByPath(path: $path) {\n                        path\n                        uuid\n                        name\n                        children(typesFilter:{types:$types}) {\n                            nodes {\n                                path\n                                uuid\n                                name\n                                ... node\n                            }\n                        }\n                    }\n                }\n            }`;\n\n        replaceFragmentsInDocument(query, fragments);\n\n        return graphql(query, {\n            props: mapResultsToProps,\n            options: mapPropsToOptions\n        })(ViewComponent);\n    }\n}\n\nexport {withNodesFromPath};\n","import React from 'react';\nimport {replaceFragmentsInDocument} from \"@jahia/apollo-dx\";\nimport {connect} from 'react-redux'\n\nfunction withPathFromSelection(reduxStoreId) {\n    return (WrappedComponent) => {\n        return connect(\n            (state, ownProps) => ({\n                ...ownProps,\n                path: (state[\"selectedPaths_\" + reduxStoreId] && state[\"selectedPaths_\" + reduxStoreId].length === 1) ? state[\"selectedPaths_\" + reduxStoreId][0] : null,\n            }),\n            () => ({}))(WrappedComponent);\n    }\n}\n\nexport { withPathFromSelection }","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction withNotifications() {\n    return (WrappedComponent) => {\n        let Component = class extends React.Component {\n            render() {\n                return (<WrappedComponent notificationContext={this.context.notificationContext} {...this.props} />)\n            }\n        };\n\n        Component.contextTypes = {\n            notificationContext: PropTypes.object\n        };\n\n        return Component\n    }\n}\n\nexport { withNotifications }","import React from 'react';\nimport {\n    IconButton,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemSecondaryAction,\n    ListItemText,\n    SvgIcon,\n    withStyles,\n    withTheme\n} from 'material-ui';\nimport {ExpandLess, ExpandMore} from 'material-ui-icons'\nimport {KeyboardArrowDown, KeyboardArrowRight} from 'material-ui-icons';\nimport PropTypes from 'prop-types';\nimport {fade} from 'material-ui/styles/colorManipulator'\n\n\nlet styles = (theme) => ({\n    root: {\n        position:\"relative\",\n    },\n    loading: {\n        opacity:0.8\n    },\n\tlistItemSelected: {\n\t\tbackground: '#00a0e3',\n\t\tcolor: 'whitesmoke'\n\t},\n\tlistItem: {\n\t\tpadding: '5px 10px'\n\t},\n\tlistItemLabel: {\n\t\tpadding: '0px',\n\t\t'& h3': {\n\t\t\tfontSize: '0.875rem',\n\t\t\tcolor: '#676767',\n\t\t\tfontWeight: '100',\n\t\t}\n\t},\n\tlistItemToggle: {\n\t\tmarginRight: '6px'\n\t},\n\tlistItemNodeTypeIcon: {\n\t\tmarginRight: '5px'\n\t},\n    selected: {\n        backgroundColor: 'pink',\n        '&:hover': {\n            backgroundColor: fade(theme.palette.secondary.light, 0.7)\n        }\n    },\n    selectedText: {\n        color: 'whitesmoke!important',\n    },\n    loadingContainer: {\n        position:\"absolute\",\n        width:\"100%\",\n        height:\"100%\",\n        zIndex:999\n    }\n});\n\nlet PickerViewMaterial = function (props) {\n    let {theme, classes, pickerEntries, onOpenItem, onSelectItem, textRenderer, iconRenderer, loading} = props;\n    return (<div className={classes.root}>\n        { loading && <div className={classes.loadingContainer} />}\n        <List disablePadding classes={{root:loading ? (classes.root + ' ' + classes.loading) : classes.root}}>\n            {pickerEntries.map((entry) =>\n                (<ListItem button\n                           onClick={() => entry.selectable ? onSelectItem(entry.path, !entry.selected) : onOpenItem(entry.path, !entry.open)}\n                           key={entry.path}\n                           divider={true}\n                           className={entry.selected ? (classes.listItem + ' ' + classes.listItemSelected) : classes.listItem }\n                    >\n                        <ListItemIcon className={entry.selected ? (classes.listItemToggle + ' ' + classes.selectedText) : classes.listItemToggle}\n\t\t\t\t\t\t\t\t\t\tstyle={{paddingLeft: entry.depth * 20}}>\n                            {entry.openable && entry.hasChildren ? (\n                                <IconButton onClick={(event) => {onOpenItem(entry.path, !entry.open); event.stopPropagation()}}>{entry.open ?\n                                    <KeyboardArrowDown color={'secondary'} /> : <KeyboardArrowRight color={'secondary'} />}</IconButton>) : <KeyboardArrowDown color={'secondary'} />}\n                        </ListItemIcon>\n\n                        <ListItemIcon className={entry.selected ? (classes.listItemNodeTypeIcon + ' ' + classes.selectedText) : classes.listItemNodeTypeIcon} >\n                            { iconRenderer && iconRenderer.call(this,entry) }\n                        </ListItemIcon>\n\n                        <ListItemText classes={entry.selected ? {root:classes.listItemLabel, primary:classes.selectedText} : {root:classes.listItemLabel}} inset\n                                      primary={textRenderer ? textRenderer.call(this, entry) : entry.name} />\n                    </ListItem>\n                )\n            )}\n        </List>\n    </div>)\n};\n\nPickerViewMaterial.propTypes = {\n    pickerEntries: PropTypes.array.isRequired,\n    onSelectItem: PropTypes.func,\n    onOpenItem: PropTypes.func,\n    textRenderer: PropTypes.func\n};\n\nPickerViewMaterial = withTheme()(withStyles(styles)(PickerViewMaterial));\n\nexport {PickerViewMaterial};\n","import React from 'react';\nimport {IconButton, List, ListItem, ListItemIcon, ListItemSecondaryAction, ListItemText, withTheme} from 'material-ui';\nimport {ExpandLess, ExpandMore, CheckBoxOutlineBlank, CheckBox} from 'material-ui-icons'\nimport PropTypes from 'prop-types';\n\nlet PickerViewMaterialMultiple = function (props) {\n    return (<List>\n        {props.pickerEntries.map((entry) =>\n            (<ListItem button\n                       onClick={() => entry.selectable ? props.onSelectItem(entry.path, !entry.selected, true) : props.onOpenItem(entry.path, !entry.open)}\n                       key={entry.path}\n                >\n                    <ListItemIcon style={entry.selectable ? {} : {opacity: 0}}>{entry.selected ? <CheckBox/> :\n                        <CheckBoxOutlineBlank/>}</ListItemIcon>\n                    <ListItemText style={{paddingLeft: entry.depth * props.theme.spacing.unit}} inset\n                                  primary={props['textRenderer'] ? props['textRenderer'].call(this, entry) : entry.name} />\n                    <ListItemSecondaryAction>\n                        {entry.openable && entry.hasChildren ? (\n                            <IconButton onClick={() => props.onOpenItem(entry.path, !entry.open)}>{entry.open ?\n                                <ExpandLess/> : <ExpandMore/>}</IconButton>) : null}\n                    </ListItemSecondaryAction>\n                </ListItem>\n            )\n        )}\n    </List>)\n};\n\nPickerViewMaterialMultiple.propTypes = {\n    pickerEntries: PropTypes.array.isRequired,\n    onSelectItem:  PropTypes.func,\n    onOpenItem: PropTypes.func,\n    textRenderer: PropTypes.func,\n};\n\nPickerViewMaterialMultiple = withTheme()(PickerViewMaterialMultiple);\n\nexport { PickerViewMaterialMultiple };","import React from 'react';\nimport {Query} from 'react-apollo';\nimport gql from \"graphql-tag\";\nimport * as _ from \"lodash\";\nimport {replaceFragmentsInDocument} from \"@jahia/apollo-dx\";\nimport PropTypes from 'prop-types';\n\nclass Picker extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        let {\n            fragments, render, rootPaths, queryVariables, hideRoot,\n            openableTypes, selectableTypes,\n            openPaths, onOpenItem,\n            selectedPaths, onSelectItem,\n            defaultSelectedPaths, onSelectionChange,\n            defaultOpenPaths,\n            onLoading,\n            ...otherProps\n        } = props;\n\n        this.isOpenControlled = openPaths != null;\n        this.isSelectionControlled = selectedPaths != null;\n\n        this.query = gql`\n            query PickerQuery($rootPaths:[String!]!, $selectable:[String]!, $openable:[String]!, $openPaths:[String!]!, $types:[String]!) {\n                jcr {\n                    rootNodes:nodesByPath(paths: $rootPaths) {\n                        path\n                        uuid\n                        name\n                        children(typesFilter:{types:$types}, limit:1) {\n                            pageInfo {\n                                totalCount\n                            }\n                        }\n                        selectable : isNodeType(type: {types:$selectable})\n                        openable : isNodeType(type: {types:$openable})\n                        ... node\n                    },\n                    openNodes:nodesByPath(paths: $openPaths) {\n                        path\n                        uuid\n                        children(typesFilter:{types:$types}) {\n                            nodes {\n                                path\n                                uuid\n                                name\n                                children(typesFilter:{types:$types}, limit:1) {\n                                    pageInfo {\n                                        totalCount\n                                    }\n                                }\n                                selectable : isNodeType(type: {types:$selectable})\n                                openable : isNodeType(type: {types:$openable})\n                                ... node\n                            }\n                        }\n                    }\n                }\n            }`;\n\n\n        replaceFragmentsInDocument(this.query, fragments);\n\n        let eventsHandlers = {};\n\n        let state = {\n            renderProps: otherProps,\n            eventsHandlers: eventsHandlers\n        };\n\n\n        if (!this.isOpenControlled) {\n            state.openPaths = defaultOpenPaths ? _.clone(defaultOpenPaths) : [];\n            eventsHandlers.onOpenItem = (path, open) => {\n                this.setState((prevState) => ({\n                    openPaths: open ?\n                        [...prevState.openPaths, path] :\n                        _.filter(prevState.openPaths, (thispath) => thispath !== path)\n                }));\n            };\n        } else {\n            eventsHandlers.onOpenItem = onOpenItem;\n        }\n\n        if (!this.isSelectionControlled) {\n            state.selectedPaths = defaultSelectedPaths ? _.clone(defaultSelectedPaths) : [];\n            eventsHandlers.onSelectItem = (path, selected, multiple) => {\n                this.setState((prevState) => {\n                    let newSelectedPaths = selected ?\n                        [...(multiple ? prevState.selectedPaths : []), path] :\n                        _.filter(prevState.selectedPaths, (thispath) => thispath !== path);\n                    onSelectionChange(newSelectedPaths);\n                    return {\n                        selectedPaths: newSelectedPaths\n                    };\n                });\n            };\n        } else {\n            eventsHandlers.onSelectItem = onSelectItem;\n        }\n\n        this.state = state;\n    }\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n        let {\n            fragments, render, rootPaths, queryVariables, hideRoot,\n            openableTypes, selectableTypes,\n            openPaths, onOpenItem,\n            selectedPaths, onSelectItem,\n            defaultSelectedPaths, onSelectionChange,\n            defaultOpenPaths,\n            onLoading,\n            ...otherProps\n        } = nextProps;\n\n        if (!_.isEqual(_.omit(otherProps, _.functions(otherProps)), _.omit(prevState.renderProps, _.functions(prevState.renderProps)))) {\n            return {\n                renderProps: otherProps\n            }\n        }\n\n        return null;\n    }\n\n    getVariables(selectedPaths, openPaths) {\n        let {rootPaths, openableTypes, selectableTypes, queryVariables} = this.props;\n\n        let vars = {\n            rootPaths: rootPaths,\n            types: _.union(openableTypes, selectableTypes),\n            selectable: selectableTypes,\n            openable: openableTypes,\n            openPaths: openPaths,\n        };\n\n        if (queryVariables) {\n            _.assign(vars, queryVariables);\n        }\n\n        return vars;\n    }\n\n    getPickerEntries(data, selectedPaths, openPaths) {\n        let pickerEntries = [];\n        let nodesById = {};\n        let jcr = data.jcr;\n\n        let addNode = function (node, depth, index) {\n            let selected = false;\n            if (node.selectable) {\n                selected = _.indexOf(selectedPaths, node.path) !== -1\n            }\n            let pickerNode = {\n                name: node.name,\n                path: node.path,\n                open: node.openable && _.indexOf(openPaths, node.path) !== -1,\n                selected: selected,\n                openable: node.openable,\n                selectable: node.selectable,\n                depth: depth,\n                prefix: _.repeat(\"&nbsp;\", depth * 3),\n                node: node,\n                hidden: false,\n                hasChildren: node.children.pageInfo.totalCount > 0\n            };\n            pickerEntries.splice(index, 0, pickerNode);\n            nodesById[node.uuid] = pickerNode;\n            return pickerNode;\n        };\n\n        if (jcr) {\n            if (jcr.rootNodes) {\n                _.forEach(jcr.rootNodes, rootNode => {\n                    let root = addNode(rootNode, 0, 0);\n                    root.hidden = this.props.hideRoot;\n                });\n            }\n            if (jcr.openNodes) {\n                _.sortBy(jcr.openNodes, ['path']).forEach((node) => {\n                    let parent = nodesById[node.uuid];\n                    if (parent) {\n                        let parentIndex = _.indexOf(pickerEntries, parent);\n                        _.forEachRight(node.children.nodes, (child) => {\n                            addNode(child, parent.depth + 1, parentIndex + 1)\n                        })\n                    }\n                });\n            }\n        }\n\n        // Nodes loaded, fill selection list\n        let selectedNodes = _.filter(pickerEntries, (node) => {\n            return node.selected\n        }).map((node) => {\n            return node.node\n        });\n\n        selectedPaths = _.map(selectedNodes, \"path\");\n        pickerEntries = _.filter(pickerEntries, pickerNode => {\n            return !pickerNode.hidden;\n        });\n\n        return pickerEntries;\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        let {\n            render:nextRender, rootPaths:nextRootPaths, hideRoot:nextHideRoot,\n            openPaths:nextOpenPaths, selectedPaths:nextSelectedPaths, defaultSelectedPaths:nextDefaultSelectedPaths, defaultOpenPaths:nextDefaultOpenPaths,\n            ...nextPropsToCompare\n        } = nextProps;\n\n        let {\n            render, rootPaths, hideRoot,\n            openPaths, selectedPaths, defaultSelectedPaths, defaultOpenPaths,\n            ...previousPropsToCompare\n        } = this.props;\n\n        nextPropsToCompare = _.omit(nextPropsToCompare, _.functions(nextPropsToCompare));\n        previousPropsToCompare = _.omit(previousPropsToCompare, _.functions(previousPropsToCompare));\n\n        let changed = (this.isSelectionControlled ? !_.isEqual(selectedPaths, nextSelectedPaths) : !_.isEqual(this.state.selectedPaths,nextState.selectedPaths))\n            || (this.isOpenControlled ? !_.isEqual(openPaths, nextOpenPaths) : !_.isEqual(this.state.openPaths,nextState.openPaths))\n            || !(_.isEqual(nextPropsToCompare, previousPropsToCompare));\n\n        return changed;\n        // return true;\n    }\n\n    render() {\n        let selectedPaths = this.isSelectionControlled ? this.props.selectedPaths : this.state.selectedPaths;\n        let openPaths = this.isOpenControlled ? this.props.openPaths : this.state.openPaths;\n        let {rootPaths, openableTypes, selectableTypes, queryVariables} = this.props;\n\n        openPaths = _.clone(openPaths);\n        let fullyOpenPath = (path) => {\n            let rootFound = false;\n            _.tail(_.split(path, \"/\")).reduce((acc, it) => {\n                if (!rootFound) {\n                    _.forEach(rootPaths, rootPath => {\n                        rootFound = rootFound || _.startsWith(acc, rootPath);\n                    })\n                }\n                if (rootFound && _.indexOf(openPaths, acc) === -1) {\n                    openPaths.push(acc);\n                }\n                return acc + \"/\" + it\n            }, \"\");\n        };\n\n        _.each(selectedPaths, path => fullyOpenPath(path));\n\n        let vars = this.getVariables(selectedPaths, openPaths);\n\n        return <Query query={this.query} variables={vars} fetchPolicy={\"cache-first\"} >\n            {\n                ({error, loading, data}) => {\n                    let Render = this.props.render;\n                    if (this.props.onLoading) {\n                        this.props.onLoading(loading);\n                    }\n                    if (loading) {\n                        if (this.previousEntries) {\n                            return <Render {...this.state.eventsHandlers} {...this.state.renderProps}\n                                           pickerEntries={this.previousEntries} loading={true}/>\n                        } else {\n                            return <Render {...this.state.eventsHandlers} {...this.state.renderProps}\n                                           pickerEntries={[]} loading={true}/>\n                        }\n                    }\n                    if (error) return `Error! ${error.message}`;\n                    let pickerEntries = this.getPickerEntries(data, selectedPaths, openPaths);\n                    this.previousEntries = pickerEntries;\n                    return <Render {...this.state.eventsHandlers} {...this.state.renderProps}\n                                   pickerEntries={pickerEntries} loading={false || this.props.loading}/>\n                }\n            }\n        </Query>\n    }\n\n}\n\nPicker.propTypes = {\n    /**\n     * List of root paths for the picker\n     */\n    rootPaths: PropTypes.arrayOf(PropTypes.string).isRequired,\n\n    /**\n     * List of folder paths that are open by default (uncontrolled mode)\n     */\n    defaultOpenPaths: PropTypes.arrayOf(PropTypes.string),\n\n    /**\n     * List of node types that can be \"opened\" (folders)\n     */\n    openableTypes: PropTypes.arrayOf(PropTypes.string).isRequired,\n\n    /**\n     * List of open folders in controlled mode\n     */\n    openPaths: PropTypes.arrayOf(PropTypes.string),\n\n    /**\n     * List of node types that can be \"selected\" (items)\n     */\n    selectableTypes: PropTypes.arrayOf(PropTypes.string).isRequired,\n\n    /**\n     * Preselected items path (uncontrolled mode)\n     */\n    defaultSelectedPaths: PropTypes.arrayOf(PropTypes.string),\n\n    /**\n     * List of selected path in controlled mode\n     */\n    selectedPaths: PropTypes.arrayOf(PropTypes.string),\n\n    /**\n     * Callback when the selection has changed\n     */\n    onSelectionChange: PropTypes.func,\n\n    /**\n     * Component to use to do the full rendering of the tree. Should accept : pickerEntries,onSelectItem,onOpenItem . Other properties are passed through.\n     */\n    render: PropTypes.func,\n\n    /**\n     * Optional set of fragments to add to the graphQL query. Can be a string that identify a predefinedFragment or a fragment definition\n     */\n    fragments: PropTypes.arrayOf(PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.shape({\n            applyFor: PropTypes.string.isRequired,\n            variables: PropTypes.string,\n            gql: PropTypes.object.isRequired\n        })\n    ])),\n\n    /**\n     * Optional set of variable to pass to the graphQL query, in order to fulfill fragments needs\n     */\n    queryVariables: PropTypes.object\n\n};\n\n\nexport {Picker}"],"names":["getI18n","options","backends","XHR","backendOptions","contextPath","getData","splice","url","callback","data","split","ns","lang","value","JSON","stringify","status","defaults","_","use","ChainedBackend","init","i18n","reducers","store","debugTool","window","__REDUX_DEVTOOLS_EXTENSION__","createStore","state","action","key","resetStateReducer","type","undefined","theme","createMuiTheme","grey","blueGrey","red","deepOrange","green","darkTheme","purple","ThemeTester","props","switch","bind","themes","setState","previous","dxContext","setTheme","checked","React","Switch","Component","withDxContext","createOutletHistory","baseHistory","outletName","getPath","path","parts","base","location","pathname","newPath","indexOf","substr","p","startsWith","push","getState","newState","extractPath","s","part","length","initialLocation","listeners","history","createHref","replace","n","go","goBack","goForward","prompt","block","listener","unlisten","listen","event","assign","call","OutletRouter","createHashHistory","outletHistory","outlet","dispose","children","NotificationProvider","notificationContext","notify","message","closeNotification","Snackbar","notification","open","propTypes","PropTypes","object","isRequired","childContextTypes","DxContextProvider","apollo","redux","mui","router","apolloClient","currentTheme","client","Children","only","lng","uilang","createElement","I18nextProvider","HashRouter","ApolloProvider","Provider","generateClassName","createGenerateClassName","sheetsRegistry","sheetRegistry","SheetsRegistry","JssProvider","registry","MuiThemeProvider","sheetsManager","Map","WrappedComponent","context","contextTypes","LanguageSwitcher","anchorEl","target","changeLanguage","availableLocales","handleClick","t","Boolean","handleClose","map","locale","translate","styles","palette","background","global","typography","fontFamily","text","secondary","SettingsLayout","classes","appBar","footer","appBarStyle","root","main","element","string","withStyles","primary","light","SearchBar","handleChange","onFocus","onBlur","onClear","persist","timeout","setTimeout","onChangeFilter","inputSearchBar","placeholderLabel","Input","focus","rootFocus","input","searchIcon","Search","closeIcon","hidden","Close","style","withNodeFromPath","fragments","ViewComponent","mapResultsToProps","ownProps","node","jcr","mapPropsToOptions","vars","workspace","queryVariables","query","gql","graphql","withNodesFromPath","nodes","types","withPathFromSelection","reduxStoreId","connect","withNotifications","fade","PickerViewMaterial","pickerEntries","onOpenItem","onSelectItem","textRenderer","iconRenderer","loading","loadingContainer","entry","selectable","selected","listItem","listItemSelected","listItemToggle","selectedText","paddingLeft","depth","openable","hasChildren","stopPropagation","KeyboardArrowDown","KeyboardArrowRight","listItemNodeTypeIcon","ListItemText","listItemLabel","name","array","func","withTheme","PickerViewMaterialMultiple","opacity","CheckBox","CheckBoxOutlineBlank","spacing","unit","ExpandLess","ExpandMore","Picker","render","rootPaths","hideRoot","openableTypes","selectableTypes","openPaths","selectedPaths","defaultSelectedPaths","onSelectionChange","defaultOpenPaths","onLoading","otherProps","isOpenControlled","isSelectionControlled","eventsHandlers","prevState","thispath","multiple","newSelectedPaths","nodesById","addNode","index","pickerNode","pageInfo","totalCount","uuid","rootNodes","rootNode","openNodes","forEach","parent","parentIndex","child","selectedNodes","nextProps","nextState","nextRender","nextRootPaths","nextHideRoot","nextOpenPaths","nextSelectedPaths","nextDefaultSelectedPaths","nextDefaultOpenPaths","nextPropsToCompare","previousPropsToCompare","changed","fullyOpenPath","rootFound","reduce","acc","it","rootPath","getVariables","error","Render","previousEntries","renderProps","getPickerEntries","arrayOf","oneOfType","shape"],"mappings":"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"}
>>>>>>> Stashed changes
